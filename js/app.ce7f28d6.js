(function(){"use strict";var e={8915:function(e,t,a){var i=a(5130),o=a(6768);const s={class:"app-container"};function l(e,t,a,i,l,n){const A=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(A)])}var n={name:"App"},A=a(1241);const r=(0,A.A)(n,[["render",l]]);var c=r,d=a(1387);const h={class:"content"};function u(e,t,a,i,s,l){const n=(0,o.g2)("Sidebar"),A=(0,o.g2)("ImageCanvas");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",h,[(0,o.bF)(n,{activeTool:s.activeTool,"onUpdate:activeTool":t[0]||(t[0]=e=>s.activeTool=e),onImageSelected:l.handleImageSelected,onOpenResizeModal:l.handleOpenResizeModal,onSaveImage:l.saveImage},null,8,["activeTool","onImageSelected","onOpenResizeModal","onSaveImage"]),(0,o.bF)(A,{activeTool:s.activeTool,selectedImage:s.selectedImage,onColorSelected:l.handleColorSelected,isResizeModalVisible:s.isResizeModalVisible,onCloseResizeModal:l.handleCloseResizeModal,ref:"imageCanvas"},null,8,["activeTool","selectedImage","onColorSelected","isResizeModalVisible","onCloseResizeModal"])])])}var g=a(4232);const p=e=>((0,o.Qi)("data-v-4f5ba7a0"),e=e(),(0,o.jt)(),e),m={class:"canvas-container"},v={key:3,class:"modal"},f=p((()=>(0,o.Lk)("h2",{class:"modal__title"},"Изменение размера изображения",-1))),C={class:"modal-content__item"},b=p((()=>(0,o.Lk)("label",{for:"interpolation-algorithm"},"Алгоритм интерполяции:",-1))),k=p((()=>(0,o.Lk)("option",{value:"nearest-neighbor",title:"Алгоритм ближайшего соседа используется для изменения размера изображения путем выбора цвета пикселя из оригинального \n  изображения, наиболее близкого к центру пикселя в новом изображении."}," Ближайший сосед ",-1))),w=[k],L={class:"modal-content__item"},I=p((()=>(0,o.Lk)("label",{for:"resizeType"},"Тип изменения:",-1))),M=p((()=>(0,o.Lk)("option",{value:"percentage"},"Проценты",-1))),y=p((()=>(0,o.Lk)("option",{value:"pixels"},"Пиксели",-1))),X=[M,y],P={class:"modal-content__item modal-content__ratio"},Q={class:"modal-content__ratio-btn",for:"maintainAspectRatio"},D={class:"modal-content__item"},x=p((()=>(0,o.Lk)("label",{for:"width"},"Ширина:",-1))),R=["value"],F={class:"modal-content__item"},T=p((()=>(0,o.Lk)("label",{for:"height"},"Высота:",-1))),B=["value"],S={class:"modal-content__stat"},H=p((()=>(0,o.Lk)("div",null,"=======>",-1))),E={class:"modal-content__item modal-content__button"};function U(e,t,a,s,l,n){const A=(0,o.g2)("ModalColor"),r=(0,o.g2)("CorrectionsModal"),c=(0,o.g2)("FiltrationModal"),d=(0,o.g2)("ImageFooter");return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("canvas",{id:"canvas",class:"canvas-editor",ref:"canvas",onMousedown:t[0]||(t[0]=(...e)=>n.handleMouseDown&&n.handleMouseDown(...e)),onMousemove:t[1]||(t[1]=(...e)=>n.handleMouseMove&&n.handleMouseMove(...e)),onMouseup:t[2]||(t[2]=(...e)=>n.handleMouseUp&&n.handleMouseUp(...e)),onMouseleave:t[3]||(t[3]=(...e)=>n.handleMouseLeave&&n.handleMouseLeave(...e))},null,544),l.colorInfoPanelVisible?((0,o.uX)(),(0,o.Wv)(A,{key:0,class:"canvas-modal",selectedColor:l.selectedColors,xMouse:l.selectedPixel.x,yMouse:l.selectedPixel.y,onCloseSetting:t[4]||(t[4]=e=>l.colorInfoPanelVisible=!1)},null,8,["selectedColor","xMouse","yMouse"])):(0,o.Q3)("",!0),l.correctionPanelVisible?((0,o.uX)(),(0,o.Wv)(r,{key:1,class:"canvas-modal",canvasRef:l.canvasRef||{},xMouse:l.offsetX,yMouse:l.offsetY,iw:l.displayImageWidth,ih:l.displayImageHeight,origImg:a.selectedImage,"onUpdate:origImg":t[5]||(t[5]=t=>e.origImg=t),onRenderImage:n.renderImage,onCloseSetting:t[6]||(t[6]=e=>l.correctionPanelVisible=!1)},null,8,["canvasRef","xMouse","yMouse","iw","ih","origImg","onRenderImage"])):(0,o.Q3)("",!0),l.filtrPanelVisible?((0,o.uX)(),(0,o.Wv)(c,{key:2,class:"canvas-modal",canvasRef:l.canvasRef||{},xMouse:l.offsetX,yMouse:l.offsetY,iw:l.displayImageWidth,ih:l.displayImageHeight,origImg:a.selectedImage,"onUpdate:origImg":t[7]||(t[7]=t=>e.origImg=t),onRenderImage:n.renderImage,onCloseSetting:t[8]||(t[8]=e=>l.filtrPanelVisible=!1)},null,8,["canvasRef","xMouse","yMouse","iw","ih","origImg","onRenderImage"])):(0,o.Q3)("",!0),(0,o.bF)(d,{imageWidth:l.imageWidth,imageHeight:l.imageHeight,selectedColor:l.selectedColor,selectedPixel:l.selectedPixel,activeTool:a.activeTool,selectedScale:l.selectedScale,onScaleChange:n.handleScaleChange},null,8,["imageWidth","imageHeight","selectedColor","selectedPixel","activeTool","selectedScale","onScaleChange"]),l.isModalVisible?((0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("div",{class:"modal-content modal-content__wrapper",onClick:t[17]||(t[17]=(0,i.D$)((()=>{}),["stop"]))},[f,(0,o.Lk)("div",C,[b,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.interpolationAlgorithm=e),id:"interpolation-algorithm",class:"transparent-input"},w,512),[[i.u1,l.interpolationAlgorithm]])]),(0,o.Lk)("div",L,[I,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.resizeType=e),id:"resizeType",class:"transparent-input",onChange:t[11]||(t[11]=e=>n.updateModal(e))},X,544),[[i.u1,l.resizeType]])]),(0,o.Lk)("div",P,[(0,o.Lk)("label",Q,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:"maintainAspectRatio","onUpdate:modelValue":t[12]||(t[12]=e=>l.maintainAspectRatio=e)},null,512),[[i.lH,l.maintainAspectRatio]]),(0,o.eW)(" Фиксировать соотношение сторон ")])]),(0,o.Lk)("div",D,[x,(0,o.Lk)("input",{type:"number",value:l.newWidth,id:"width",min:"1",class:"transparent-input",onChange:t[13]||(t[13]=(...e)=>n.updateNewWidth&&n.updateNewWidth(...e))},null,40,R)]),(0,o.Lk)("div",F,[T,(0,o.Lk)("input",{type:"number",value:l.newHeight,id:"height",min:"1",class:"transparent-input",onChange:t[14]||(t[14]=(...e)=>n.updateNewHeight&&n.updateNewHeight(...e))},null,40,B)]),(0,o.Lk)("div",S,[(0,o.Lk)("div",null,(0,g.v_)((l.imageWidth*l.imageHeight/1e6).toFixed(4))+" Мп ",1),H,(0,o.Lk)("div",null,(0,g.v_)(n.countPixels())+" Мп ",1)]),(0,o.Lk)("div",E,[(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>n.closeResizeModal&&n.closeResizeModal(...e))},"Отмена"),(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>n.handleModalConfirm&&n.handleModalConfirm(...e))},"Применить")])])])):(0,o.Q3)("",!0)])}const W={class:"footer"},O={class:"image-stat"},j={key:0,class:"image-info"},V={key:1,class:"color-info"},N={class:"scale-selector"},z=["value"];function G(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("div",W,[(0,o.Lk)("div",O,[a.imageWidth&&a.imageHeight?((0,o.uX)(),(0,o.CE)("div",j," Размер: "+(0,g.v_)(a.imageWidth)+"px x "+(0,g.v_)(a.imageHeight)+"px; ",1)):(0,o.Q3)("",!0),a.selectedColor?((0,o.uX)(),(0,o.CE)("div",V,[(0,o.eW)(" RGB ("+(0,g.v_)(a.selectedColor.r)+", "+(0,g.v_)(a.selectedColor.g)+", "+(0,g.v_)(a.selectedColor.b)+") ",1),(0,o.Lk)("div",{class:"color-preview",style:(0,g.Tr)({backgroundColor:`rgb(${a.selectedColor.r},${a.selectedColor.g},${a.selectedColor.b})`})},null,4),(0,o.eW)(" Координаты ("+(0,g.v_)(a.selectedPixel.x)+"; "+(0,g.v_)(a.selectedPixel.y)+") ",1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",N,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.localScale=e),onChange:t[1]||(t[1]=(...e)=>n.handleScaleChange&&n.handleScaleChange(...e))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.scales,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e},(0,g.v_)(e)+"% ",9,z)))),128))],544),[[i.u1,l.localScale]])])])}var K={name:"ImageFooter",props:{imageWidth:Number,imageHeight:Number,selectedColor:Object,selectedPixel:Object,selectedScale:Number},data(){return{localScale:this.selectedScale,scales:[12,25,50,75,100,150,200,300]}},methods:{handleScaleChange(){this.$emit("scale-change",this.localScale)}}};const Y=(0,A.A)(K,[["render",G],["__scopeId","data-v-2b3c25a1"]]);var J=Y,Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfklEQVR4nO3aXU7CQBRA4dmBbEBxCYbELWpYgj+bEk3ANShxCcdM2icNCR3a4dI537NmOoeWFrgpSZIkSZIkSZKkKQELYA1sgB3wAiwrrn8LvPZrb/pjWaQLiPbBf1/AqsL6q36tv/IxXaWo6F7dQ/ZTxuuj5TUOeUxR0V0a1I53RLTsLUVF975CzXhHRsu2KSq6GwG14g2Ilj2lqIDlgTfn0eMNjJaP6TpFBtwB30du6Ae4j7jGWTDhxmYbbcoNzj7aFBttJtqYG24u2hgbbzbaKQGaj1b47LUf+LeTf4lwVgw789q8PCvEayfaiPHaizZCvHajnRDPaJnhCnipFvDmUMDHkQI+ABfwI1cBP+RXipZG+N+Lhl9knidac2ce/lgTI9rszzz8QXp2IxA3KSq6ScjJoxXGe05RAZ+1ohXE26WocLCwONy61pk2t1HWRdDh6ffQw9NZPsD86uaZ2zw+michaw715btnv+a2P4aH8NEkSZIkSZIkSUoX7xe7JA+Waie2bQAAAABJRU5ErkJggg==";const _=e=>((0,o.Qi)("data-v-4e2e49a1"),e=e(),(0,o.jt)(),e),q={class:"sidebar"},$={class:"panel-header"},ee=_((()=>(0,o.Lk)("img",{src:Z},null,-1))),te=[ee],ae=_((()=>(0,o.Lk)("div",{class:"colors"},null,-1))),ie={class:"colors-info"},oe={class:"colors-picked"},se={class:"color-parameters"},le=_((()=>(0,o.Lk)("p",null,":",-1))),ne={class:"colors-picked"},Ae={class:"color-parameters"},re=_((()=>(0,o.Lk)("p",null,":",-1))),ce={class:"colors-table"},de={class:"colors-table-info"},he={key:0,class:"tooltip"},ue=_((()=>(0,o.Lk)("div",null,"RGB: Цветовая модель, сочетающая интенсивность красного, зеленого и синего света для создания цветов на цифровых дисплеях.",-1))),ge=_((()=>(0,o.Lk)("div",null,"XYZ: Стандартное цветовое пространство, представляющее зрительное восприятие цветов человеком, используется в качестве основы для других цветовых пространств.",-1))),pe=_((()=>(0,o.Lk)("div",null,"Lab: Воспринимаемое однородное цветовое пространство с компонентами яркости (L*) и осями контраста цвета (a*, b*), идеально подходящими для точной цветопередачи и коррекции.",-1))),me=[ue,ge,pe],ve={class:"color-parameters"},fe={class:"color-param"},Ce={class:"color-param"},be={class:"colors-table-info"},ke={class:"color-parameters"},we={class:"color-param"},Le={class:"color-param"},Ie={class:"colors-table"},Me={class:"colors-table-info"},ye={class:"color-parameters"},Xe={class:"color-param"},Pe={class:"color-param"};function Qe(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("aside",q,[(0,o.Lk)("div",$,[(0,o.Lk)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>n.closeSetting&&n.closeSetting(...e))},te)]),ae,(0,o.Lk)("div",ie,[(0,o.Lk)("div",oe,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.pickedButton=e),value:"button1",type:"radio",class:"color-button",style:(0,g.Tr)({background:l.color1})},null,4),[[i.XL,l.pickedButton]]),(0,o.Lk)("div",se,[(0,o.Lk)("p",null,(0,g.v_)(l.color1X),1),le,(0,o.Lk)("p",null,(0,g.v_)(l.color1Y),1)])]),(0,o.Lk)("div",ne,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.pickedButton=e),value:"button2",type:"radio",class:"color-button",style:(0,g.Tr)({background:l.color2})},null,4),[[i.XL,l.pickedButton]]),(0,o.Lk)("div",Ae,[(0,o.Lk)("p",null,(0,g.v_)(l.color2X),1),re,(0,o.Lk)("p",null,(0,g.v_)(l.color2Y),1)])]),(0,o.Lk)("div",ce,[(0,o.Lk)("div",de,[(0,o.Lk)("div",{class:"color-parameter",onMouseenter:t[3]||(t[3]=e=>l.showTooltipFlag=!0),onMouseleave:t[4]||(t[4]=e=>l.showTooltipFlag=!1)},[(0,o.eW)(" RGB "),l.showTooltipFlag?((0,o.uX)(),(0,o.CE)("div",he,me)):(0,o.Q3)("",!0)],32),(0,o.Lk)("div",ve,[(0,o.Lk)("div",fe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.color1RGB.split(","),(e=>((0,o.uX)(),(0,o.CE)("p",{key:e},(0,g.v_)(e.trim()),1)))),128))]),(0,o.Lk)("div",Ce,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.color2RGB.split(","),(e=>((0,o.uX)(),(0,o.CE)("p",{key:e},(0,g.v_)(e.trim()),1)))),128))])])])]),(0,o.Lk)("div",be,[(0,o.Lk)("p",{class:"color-parameter",onMouseenter:t[5]||(t[5]=e=>l.showTooltipFlag=!0),onMouseleave:t[6]||(t[6]=e=>l.showTooltipFlag=!1)}," XYZ ",32),(0,o.Lk)("div",ke,[(0,o.Lk)("div",we,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.color1XYZ.split(","),(e=>((0,o.uX)(),(0,o.CE)("p",{key:e},(0,g.v_)(e.trim()),1)))),128))]),(0,o.Lk)("div",Le,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.color2XYZ.split(","),(e=>((0,o.uX)(),(0,o.CE)("p",{key:e},(0,g.v_)(e.trim()),1)))),128))])])]),(0,o.Lk)("div",Ie,[(0,o.Lk)("div",Me,[(0,o.Lk)("p",{class:"color-parameter",onMouseenter:t[7]||(t[7]=e=>l.showTooltipFlag=!0),onMouseleave:t[8]||(t[8]=e=>l.showTooltipFlag=!1)}," Lab ",32),(0,o.Lk)("div",ye,[(0,o.Lk)("div",Xe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.color1Lab.split(","),(e=>((0,o.uX)(),(0,o.CE)("p",{key:e},(0,g.v_)(e.trim()),1)))),128))]),(0,o.Lk)("div",Pe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.color2Lab.split(","),(e=>((0,o.uX)(),(0,o.CE)("p",{key:e},(0,g.v_)(e.trim()),1)))),128))])])])])]),l.contrast?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"contrast",style:(0,g.Tr)({color:l.contrast<4.5?"red":"white"})}," Контраст: "+(0,g.v_)(l.contrast)+":1 ",5)):(0,o.Q3)("",!0)])}var De={name:"sidebar-setting",props:{selectedColor:String,xMouse:Number,yMouse:Number},data(){return{pickedButton:null,color1:null,color2:null,color1X:0,color1Y:0,color2X:0,color2Y:0,color1RGB:"",color2RGB:"",color1XYZ:"",color2XYZ:"",color1Lab:"",color2Lab:"",contrast:null,showTooltipFlag:!1}},methods:{closeSetting(){this.$emit("closeSetting")},updateColors(){const e=this.parseColor(this.selectedColor),t=this.rgbToXyz(e),a=this.xyzToLab(t);"button1"===this.pickedButton?(this.color1X=this.xMouse,this.color1Y=this.yMouse,this.color1RGB=this.prettyColor(e,!0),this.color1XYZ=this.prettyColor(t),this.color1Lab=this.prettyColor(a)):(this.color2X=this.xMouse,this.color2Y=this.yMouse,this.color2RGB=this.prettyColor(e,!0),this.color2XYZ=this.prettyColor(t),this.color2Lab=this.prettyColor(a)),this.color1&&this.color2&&(this.contrast=this.calculateContrastRatio(this.color1,this.color2))},prettyColor([e,t,a],i=!1){return i?`${e}, ${t}, ${a}`:`${e.toFixed(1)}, ${t.toFixed(1)}, ${a.toFixed(1)}`},calculateContrastRatio(e,t){const a=e=>(e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)),i=e=>{const t=this.parseColor(e),i=a(t[0]),o=a(t[1]),s=a(t[2]);return.2126*i+.7152*o+.0722*s},o=i(e),s=i(t),l=Math.max(o,s),n=Math.min(o,s),A=(l+.05)/(n+.05);return A.toFixed(1)},parseColor(e){if("#"==e.substr(0,1)){var t=(e.length-1)/3,a=[17,1,.062272][t-1];return[Math.round(parseInt(e.substr(1,t),16)*a),Math.round(parseInt(e.substr(1+t,t),16)*a),Math.round(parseInt(e.substr(1+2*t,t),16)*a)]}return e.split("(")[1].split(")")[0].split(",").map((e=>+e))},rgbToXyz(e){let t=e[0]/255,a=e[1]/255,i=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,t*=100,a*=100,i*=100;const o=Math.round(.4124*t+.3576*a+.1805*i),s=Math.round(.2126*t+.7152*a+.0722*i),l=Math.round(.0193*t+.1192*a+.9505*i);return[o,s,l]},xyzToLab(e){const[t,a,i]=e,o=95.047,s=100,l=108.883,n=t/o,A=a/s,r=i/l,c=.008856,d=903.3,h=e=>e>c?Math.pow(e,1/3):(d*e+16)/116,u=Math.round(116*h(A)-16),g=Math.round(500*(h(n)-h(A))),p=Math.round(200*(h(A)-h(r)));return[u,g,p]}},watch:{selectedColor(e){"button1"===this.pickedButton&&(this.color1=e,this.updateColors()),"button2"===this.pickedButton&&(this.color2=e,this.updateColors())}}};const xe=(0,A.A)(De,[["render",Qe],["__scopeId","data-v-4e2e49a1"]]);var Re=xe;const Fe=e=>((0,o.Qi)("data-v-76cb4736"),e=e(),(0,o.jt)(),e),Te={class:"sidebar"},Be={class:"panel-header"},Se=Fe((()=>(0,o.Lk)("img",{src:Z},null,-1))),He=[Se],Ee={class:"input-fields"},Ue={class:"input-fields-wrapper"},We={class:"input-fields-i"},Oe=Fe((()=>(0,o.Lk)("label",{for:"input1"},"X1:",-1))),je=["value"],Ve={class:"input-fields-i"},Ne=Fe((()=>(0,o.Lk)("label",{for:"output1"},"Y1:",-1))),ze=["value"],Ge=Fe((()=>(0,o.Lk)("div",{class:"hrhr"},null,-1))),Ke={class:"input-fields-wrapper"},Ye={class:"input-fields-i"},Je=Fe((()=>(0,o.Lk)("label",{for:"input2"},"X2:",-1))),Ze=["value"],_e={class:"input-fields-i"},qe=Fe((()=>(0,o.Lk)("label",{for:"output2"},"Y2:",-1))),$e=["value"],et={class:"buttons"},tt={class:"prewiew_label"},at={class:"curve-chart"},it={id:"chart",width:"100",height:"100",ref:"chart"};function ot(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("aside",Te,[(0,o.Lk)("div",Be,[(0,o.Lk)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>n.closeSetting&&n.closeSetting(...e))},He)]),(0,o.Lk)("div",Ee,[(0,o.Lk)("div",Ue,[(0,o.Lk)("div",We,[Oe,(0,o.Lk)("input",{id:"input1",value:l.input1,onChange:t[1]||(t[1]=(...e)=>n.updateX1&&n.updateX1(...e))},null,40,je)]),(0,o.Lk)("div",Ve,[Ne,(0,o.Lk)("input",{id:"output1",value:l.output1,onChange:t[2]||(t[2]=(...e)=>n.updateY1&&n.updateY1(...e))},null,40,ze)])]),Ge,(0,o.Lk)("div",Ke,[(0,o.Lk)("div",Ye,[Je,(0,o.Lk)("input",{id:"input2",value:l.input2,onChange:t[3]||(t[3]=(...e)=>n.updateX2&&n.updateX2(...e))},null,40,Ze)]),(0,o.Lk)("div",_e,[qe,(0,o.Lk)("input",{id:"output2",value:l.output2,onChange:t[4]||(t[4]=(...e)=>n.updateY2&&n.updateY2(...e))},null,40,$e)])])]),(0,o.Lk)("div",et,[(0,o.Lk)("label",tt,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"prewiew_input","onUpdate:modelValue":t[5]||(t[5]=e=>l.togglePreview=e)},null,512),[[i.lH,l.togglePreview]]),(0,o.eW)(" Превью ")]),(0,o.Lk)("button",{class:"apply-button",onClick:t[6]||(t[6]=(...e)=>n.applyCorrection&&n.applyCorrection(...e))},"Применить"),(0,o.Lk)("button",{class:"reset-button",onClick:t[7]||(t[7]=(...e)=>n.resetValues&&n.resetValues(...e))},"Сброс")]),(0,o.Lk)("div",at,[(0,o.Lk)("canvas",it,null,512)])])}var st=a(3456),lt={name:"sidebar-correction",props:{xMouse:Number,yMouse:Number,origImg:Object,ih:Number,iw:Number,canvasRef:Object},data(){return{chartInstance:null,imgCorrected:!1,input1:0,output1:0,input2:255,output2:255,togglePreview:!1}},mounted(){this.chartRef=this.$refs.chart},methods:{closeSetting(){this.$emit("closeSetting")},normalizeHistogram(e){const t=Math.max(...e);return e.map((e=>e/t*255))},buildGraph(){const e=new Image;e.onload=()=>{const e=this.canvasRef?.getContext("2d");try{const t=e.getImageData(this.xMouse,this.yMouse,this.iw,this.ih),a=t.data,i=new Array(256).fill(0),o=new Array(256).fill(0),s=new Array(256).fill(0);for(let e=0;e<a.length;e+=4){const t=a[e],l=a[e+1],n=a[e+2];i[t]++,o[l]++,s[n]++}const l=this.normalizeHistogram(i),n=this.normalizeHistogram(o),A=this.normalizeHistogram(s);this.renderCurveChart(l,n,A)}catch(t){console.log(t)}},e.src=this.origImg},renderCurveChart(e,t,a){const i=this.chartRef?.getContext("2d");this.chartInstance&&this.chartInstance.destroy(),this.chartInstance=new st.Ay(i,{type:"line",data:{labels:Array.from({length:256},((e,t)=>t)),datasets:[{label:"R",data:e,backgroundColor:"rgba(255, 0, 0, 1)",borderWidth:1,fill:!1},{label:"G",data:t,backgroundColor:"rgba(0, 255, 0, 1)",borderWidth:1,fill:!1},{label:"B",data:a,backgroundColor:"rgba(0, 0, 255, 1)",borderWidth:1,fill:!1},{label:"Линия",data:[{x:0,y:this.output1},{x:this.input1,y:this.output1},{x:this.input2,y:this.output2},{x:255,y:this.output2}],borderColor:"rgba(255, 255, 255, 1)",borderWidth:2,fill:!1,tension:0}]},options:{plugins:{legend:{labels:{color:"white"}}},animation:!1,aspectRatio:1,scales:{x:{display:!0,min:0,max:255,type:"linear",ticks:{color:"white"}},y:{display:!0,min:0,max:255,type:"linear",ticks:{color:"white"}}}}})},calculateCorrection(){try{const e=[];for(let o=0;o<this.input1;o++)e[o]=this.output1;for(let o=this.input1;o<this.input2;o++){const t=(this.output2-this.output1)/(this.input2-this.input1);let a=this.output1+t*(o-this.input1);a=Math.max(0,Math.min(255,a)),e[o]=a}for(let o=this.input2;o<256;o++)e[o]=this.output2;const t=this.canvasRef?.getContext("2d"),a=t.getImageData(this.xMouse,this.yMouse,this.iw,this.ih),i=a.data;for(let o=0;o<i.length;o+=4)i[o]=e[i[o]],i[o+1]=e[i[o+1]],i[o+2]=e[i[o+2]];t.putImageData(a,this.xMouse,this.yMouse),this.imgCorrected=!0}catch(e){console.log(e)}},revertCorrection(){this.buildGraph(),this.togglePreview=!1,this.$emit("renderImage")},applyCorrection(){this.closeSetting(),this.calculateCorrection(),this.buildGraph()},resetValues(){this.input1=0,this.output1=0,this.input2=255,this.output2=255,this.revertCorrection()},updateX1(e){const t=+e.target.value;!isNaN(t)&&t>=0&&t<this.input2?(this.input1=t,this.buildGraph()):(this.input1+=1,this.input1-=1)},updateY1(e){const t=+e.target.value;!isNaN(t)&&t>=0&&t<=255?(this.output1=t,this.buildGraph()):(this.output1+=1,this.output1-=1)},updateX2(e){const t=+e.target.value;!isNaN(t)&&t<=255&&this.input1<=t?(this.input2=t,this.buildGraph()):(this.input2+=1,this.input2-=1)},updateY2(e){const t=+e.target.value;!isNaN(t)&&t<=255&&0<=t?(this.output2=t,this.buildGraph()):(this.output2+=1,this.output2-=1)}},watch:{newImg(){this.buildGraph()},togglePreview(e){e?this.calculateCorrection():this.revertCorrection()}}};const nt=(0,A.A)(lt,[["render",ot],["__scopeId","data-v-76cb4736"]]);var At=nt;const rt=e=>((0,o.Qi)("data-v-12fdf0f4"),e=e(),(0,o.jt)(),e),ct={class:"sidebar"},dt={class:"panel-header"},ht=rt((()=>(0,o.Lk)("img",{src:Z},null,-1))),ut=[ht],gt={class:"input-fields"},pt=(0,o.Fv)('<option value="bugged" data-v-12fdf0f4>Забаганный фильтр</option><option value="identity" data-v-12fdf0f4>Тождественное отображение</option><option value="sharpen" data-v-12fdf0f4>Повышение резкости</option><option value="gaussian" data-v-12fdf0f4>Фильтр Гаусса (3 на 3)</option><option value="blur" data-v-12fdf0f4>Прямоугольное размытие</option>',5),mt=[pt],vt={class:"input-fields-wrapper"},ft={class:"filtration-inputs"},Ct={class:"point-inputs"},bt=["value","onChange"],kt={class:"buttons"},wt={class:"prewiew_label"};function Lt(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("aside",ct,[(0,o.Lk)("div",dt,[(0,o.Lk)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>n.closeSetting&&n.closeSetting(...e))},ut)]),(0,o.Lk)("div",gt,[(0,o.Lk)("select",{onChange:t[1]||(t[1]=e=>n.applyPreset(e.target.value)),class:"filtration-preset"},mt,32),(0,o.Lk)("div",vt,[(0,o.Lk)("div",ft,[(0,o.Lk)("div",Ct,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.kernel,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"point-inputs-column",key:t},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:"point-with-prefix"},[(0,o.Lk)("input",{class:"point_input",value:l.kernel[t][a],onChange:e=>n.updateKernel(e,t,a)},null,40,bt)])))),128))])))),128))])])])]),(0,o.Lk)("div",kt,[(0,o.Lk)("label",wt,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>l.togglePreview=e)},null,512),[[i.lH,l.togglePreview]]),(0,o.eW)(" Превью ")]),(0,o.Lk)("button",{class:"apply-button",onClick:t[3]||(t[3]=(...e)=>n.applyFiltration&&n.applyFiltration(...e))},"Применить"),(0,o.Lk)("button",{class:"reset-button",onClick:t[4]||(t[4]=(...e)=>n.resetValues&&n.resetValues(...e))},"Сброс")])])}a(7467),a(4732),a(9577),a(6280),a(7913),a(7801);var It={name:"sidebar-filtration",props:{xMouse:Number,yMouse:Number,origImg:Object,ih:Number,iw:Number,canvasRef:Object},data(){return{togglePreview:!1,kernel:[[1,0,-1],[1,0,-1],[1,0,-1]]}},methods:{closeSetting(){this.$emit("closeSetting")},applyFilter(e,t){if(!(e instanceof ImageData))throw new Error("Invalid input: imageData must be an ImageData object");if(!Array.isArray(t)||3!==t.length||3!==t[0].length)throw new Error("Invalid input: kernel must be a 3x3 array");const a=e.width,i=e.height,o=e.data,s=new Uint8ClampedArray(o.length),l=new ImageData(s,a,i);for(let n=0;n<i;n++)for(let e=0;e<a;e++){let l=0,A=0,r=0;for(let s=-1;s<=1;s++)for(let c=-1;c<=1;c++){const d=e+c,h=n+s,u=(d+a)%a,g=(h+i)%i,p=g*a*4+4*u;l+=o[p]*t[s+1][c+1],A+=o[p+1]*t[s+1][c+1],r+=o[p+2]*t[s+1][c+1]}s[n*a*4+4*e]=l,s[n*a*4+4*e+1]=A,s[n*a*4+4*e+2]=r,s[n*a*4+4*e+3]=o[n*a*4+4*e+3]}return l},applyPreset(e){const t={identity:[[0,0,0],[0,1,0],[0,0,0]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]],gaussian:[[1,2,1],[2,4,2],[1,2,1]],blur:[[1,1,1],[1,1,1],[1,1,1]],bugged:[[1,0,-1],[1,0,-1],[1,0,-1]]};this.kernel=t[e]||t.identity},updateKernel(e,t,a){const i=+e.target.value;isNaN(i)||(this.kernel[t][a]=i)},normalizeKernel(e){let t=0;for(let a=0;a<e.length;a++)for(let i=0;i<e[a].length;i++)t+=e[a][i];if(0===t)return e;for(let a=0;a<e.length;a++)for(let i=0;i<e[a].length;i++)e[a][i]/=t;return e},calculateFiltration(){const e=this.canvasRef?.getContext("2d");if(!e)return;const t=e.getImageData(this.xMouse,this.yMouse,this.iw,this.ih),a=this.normalizeKernel(this.kernel),i=this.applyFilter(t,a);e.putImageData(i,this.xMouse,this.yMouse)},padImageData(e,t,a){const i=t+2,o=a+2,s=new Uint8ClampedArray(i*o*4);for(let l=0;l<a;l++)for(let a=0;a<t;a++){const o=4*(l*t+a),n=4*((l+1)*i+a+1);s.set(e.subarray(o,o+4),n)}for(let l=0;l<o;l++)for(let e=0;e<i;e++){const t=4*(l*i+e);if(0===e||e===i-1||0===l||l===o-1){const a=Math.max(1,Math.min(e,i-2)),n=Math.max(1,Math.min(l,o-2)),A=4*(n*i+a);s.set(s.subarray(A,A+4),t)}}return s},resetValues(){this.applyPreset("identity"),this.revertFiltration()},revertFiltration(){this.togglePreview=!1,this.$emit("renderImage")},applyFiltration(){this.closeSetting(),this.calculateFiltration()}},watch:{togglePreview(e){e?this.calculateFiltration():this.revertFiltration()},kernel:{handler(){this.togglePreview&&this.calculateFiltration()},deep:!0}}};const Mt=(0,A.A)(It,[["render",Lt],["__scopeId","data-v-12fdf0f4"]]);var yt=Mt;function Xt(e,t,a){const i=e.width,o=e.height,s=i/t,l=o/a,n=new Uint8ClampedArray(t*a*4);for(let A=0;A<a;A++)for(let a=0;a<t;a++){const o=Math.floor(a*s),r=Math.floor(A*l),c=4*(A*t+a),d=4*(r*i+o);n[c]=e.data[d],n[c+1]=e.data[d+1],n[c+2]=e.data[d+2],n[c+3]=e.data[d+3]}return new ImageData(n,t,a)}var Pt={name:"ImageCanvas",components:{ImageFooter:J,ModalColor:Re,CorrectionsModal:At,FiltrationModal:yt},emits:["closeResizeModal"],data(){return{canvasRef:null,imageData:null,displayImageData:null,displayImage:null,imageWidth:0,imageHeight:0,displayImageWidth:0,displayImageHeight:0,selectedColor:null,selectedColors:"",selectedPixel:{x:0,y:0},selectedScale:100,isModalVisible:this.isResizeModalVisible,interpolationAlgorithm:"nearest-neighbor",resizeType:"pixels",newWidth:null,newHeight:null,maintainAspectRatio:!1,aspectRatio:1,widthPercent:null,heightPercent:null,colorInfoPanelVisible:!1,canvasOffsetX:0,offsetX:0,offsetY:0,canvasOffsetY:0,dragging:!1,correctionPanelVisible:!1,filtrPanelVisible:!1}},props:{activeTool:String,selectedImage:String,isResizeModalVisible:Boolean},mounted(){this.canvasRef=this.$refs.canvas,this.canvasRef.addEventListener("click",this.handleCanvasClick),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)},watch:{isResizeModalVisible(e){this.isModalVisible=e,this.updateModal()},selectedImage(){this.selectedScale=100;const e=new Image;e.crossOrigin="",e.src=this.selectedImage,e.onload=()=>{console.log("Image loaded"),this.imageData=this.extractImageData(e),this.imageWidth=this.imageData.width,this.imageHeight=this.imageData.height,this.calcDisplayImageData(),this.renderImage()}},activeTool(e){"Пипетка"===e&&(this.colorInfoPanelVisible=!0,this.correctionPanelVisible=!1,this.filtrPanelVisible=!1),"Кривые"===e&&(this.colorInfoPanelVisible=!1,this.correctionPanelVisible=!0,this.filtrPanelVisible=!1),"Фильтрация"===e&&(this.colorInfoPanelVisible=!1,this.correctionPanelVisible=!1,this.filtrPanelVisible=!0)}},methods:{extractImageData(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const a=t.getContext("2d");return a.drawImage(e,0,0),a.getImageData(0,0,t.width,t.height)},handleMouseDown(e){"Рука"===this.activeTool&&(this.dragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,e.preventDefault())},handleMouseMove(e){if(this.dragging){const t=e.clientX-this.lastX,a=e.clientY-this.lastY;this.lastX=e.clientX,this.lastY=e.clientY,this.canvasRef.style.cursor="grabbing",this.canvasOffsetX+=t,this.canvasOffsetY+=a,this.renderImage(),e.preventDefault()}},handleMouseUp(e){this.dragging&&"Рука"===this.activeTool&&(this.dragging=!1,this.canvasRef.style.cursor="grab",e.preventDefault())},handleMouseLeave(e){this.dragging&&"Рука"===this.activeTool&&(this.dragging=!1,this.canvasRef.style.cursor="grab",e.preventDefault())},handleKeyDown(e){if("Рука"===this.activeTool&&!this.dragging){const t=e.shiftKey?5:1;switch(e.key){case"ArrowLeft":this.canvasOffsetX-=10*t;break;case"ArrowRight":this.canvasOffsetX+=10*t;break;case"ArrowUp":this.canvasOffsetY-=10*t;break;case"ArrowDown":this.canvasOffsetY+=10*t;break}this.renderImage()}},calcDisplayImageData(){const e=this.calculateScaleFactor(this.imageWidth,this.imageHeight),t=Math.round(this.imageData.width*e*(this.selectedScale/100)),a=Math.round(this.imageData.height*e*(this.selectedScale/100));this.displayImageData=this.scaleImageData(this.imageData,t,a)},renderImage(){if(console.log("renderImage: Enter"),null==this.imageData)return void console.log("renderImage: ImageData is null when render called");const e=this.imageData,t=this.canvasRef,a=this.canvasRef?.getContext("2d"),i=this.$refs.canvas.parentNode.scrollLeft,o=this.$refs.canvas.parentNode.scrollTop,s=this.canvasRef.clientWidth,l=this.canvasRef.clientHeight;console.log(`W${s} H${l} CW${t.width} CH${t.height}`),t.width=s,t.height=l;const n=this.calculateScaleFactor(this.imageWidth,this.imageHeight),A=Math.round(e.width*n*(this.selectedScale/100)),r=Math.round(e.height*n*(this.selectedScale/100));console.log(`Scaling: ${e.width},${this.inittialScaleFactor},${this.selectedScale},${A}`);let c=Math.round((s-A)/2)+this.canvasOffsetX-i,d=Math.round((l-r)/2)+this.canvasOffsetY-o;this.offsetX=c,this.offsetY=d,this.displayImageWidth=A,this.displayImageHeight=r;const h=10;c=Math.min(Math.max(c,-A+h),s-h),d=Math.min(Math.max(d,-r+h),l-h);const u=this.imageWidth/this.imageHeight;this.aspectRatio=u,a.putImageData(this.displayImageData,c,d)},scaleImageData(e,t,a){const i=new ImageData(t,a),o=t/e.width,s=a/e.height;for(let l=0;l<a;l++)for(let a=0;a<t;a++){const n=Math.floor(a/o),A=Math.floor(l/s),r=A*e.width*4+4*n,c=l*t*4+4*a;i.data[c]=e.data[r],i.data[c+1]=e.data[r+1],i.data[c+2]=e.data[r+2],i.data[c+3]=e.data[r+3]}return i},calculateScaleFactor(e,t){this.$refs.canvas;const a=50,i=this.canvasRef.clientWidth-2*a,o=this.canvasRef.clientHeight-2*a,s=i/e,l=o/t;return Math.min(s,l)},handleCanvasClick(e){const t=this.$refs.canvas.getBoundingClientRect(),a=(this.canvasRef.clientWidth-this.imageWidth)/2,i=(this.canvasRef.clientHeight-this.imageHeight)/2;if("Пипетка"===this.activeTool){const o=Math.round(e.clientX-t.left-a),s=Math.round(e.clientY-t.top-i);this.selectedPixel={x:o,y:s},this.updateSelectedColor()}},updateSelectedColor(){const e=this.selectedPixel.x,t=this.selectedPixel.y,a=e+(this.canvasRef.clientWidth-this.imageWidth)/2,i=t+(this.canvasRef.clientHeight-this.imageHeight)/2,o=this.canvasRef.getContext("2d"),s=o.getImageData(a,i,1,1).data,l=s[0],n=s[1],A=s[2];this.selectedColors=`rgb(${l}, ${n}, ${A})`,this.selectedColor={r:l,g:n,b:A}},handleModalConfirm(){let e=this.newWidth,t=this.newHeight;"percentage"===this.resizeType&&(e=Math.round(this.newWidth/100*this.imageWidth),t=Math.round(this.newHeight/100*this.imageHeight)),this.imageData=Xt(this.imageData,e,t),this.imageWidth=this.imageData.width,this.imageHeight=this.imageData.height,this.calcDisplayImageData(),this.renderImage(),this.closeResizeModal()},updateModal(){if("pixels"===this.resizeType){this.newWidth=this.imageWidth,this.newHeight=this.imageHeight;const e=this.imageWidth/this.imageHeight;this.aspectRatio=e}else"percentage"===this.resizeType&&(this.aspectRatio=1,this.widthPercent=this.newWidth,this.heightPercent=this.newHeight,this.newWidth=100,this.newHeight=100)},updateNewWidth(e){let t=Math.floor(+e.target.value);t<=0&&(t=1),t>7680&&(t=7680),this.newWidth=t,this.maintainAspectRatio&&(this.newHeight=Math.round(t/this.aspectRatio))},updateNewHeight(e){let t=Math.floor(+e.target.value);t<=0&&(t=1),t>4320&&(t=4320),this.newHeight=t,this.maintainAspectRatio&&(this.newWidth=Math.round(t*this.aspectRatio))},countPixels(){if("pixels"===this.resizeType)return(this.newWidth*this.newHeight/1e6).toFixed(4);if("percentage"===this.resizeType){const e=this.imageWidth,t=this.imageHeight,a=e*t;return(this.newWidth/100*(this.newHeight/100)*a/1e6).toFixed(4)}},handleScaleChange(e){this.selectedScale=e,this.calcDisplayImageData(),this.renderImage()},closeResizeModal(){this.isModalVisible=!1,this.$emit("closeResizeModal"),this.$emit("update:activeTool","")},saveImage(){if(null==this.imageData)return;const e=document.createElement("canvas"),t=e.getContext("2d");e.width=this.imageWidth,e.height=this.imageHeight,t.putImageData(this.imageData,0,0);const a=document.createElement("a");a.href=e.toDataURL("image/png"),a.download="my_image.png",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}};const Qt=(0,A.A)(Pt,[["render",U],["__scopeId","data-v-4f5ba7a0"]]);var Dt=Qt,xt=a.p+"img/folder.8903b122.png",Rt=a.p+"img/save.63dc75d5.png",Ft=a.p+"img/search.08155eee.png";const Tt=e=>((0,o.Qi)("data-v-90137038"),e=e(),(0,o.jt)(),e),Bt={class:"sidebar"},St=Tt((()=>(0,o.Lk)("img",{src:xt,alt:"Upload",class:"file-upload-icon"},null,-1))),Ht=[St],Et=["onClick"],Ut=["src","alt","onMouseover"],Wt={key:0,class:"tooltip"},Ot=Tt((()=>(0,o.Lk)("img",{src:Rt,alt:"Save images",title:"Скачать изображение",class:"file-upload-icon"},null,-1))),jt=[Ot],Vt={class:"upload__cont"},Nt=Tt((()=>(0,o.Lk)("div",{class:"or"}," или ",-1))),zt={class:"url-upload-container"};function Gt(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("aside",Bt,[(0,o.Lk)("div",{onClick:t[0]||(t[0]=(...e)=>n.openModalUpload&&n.openModalUpload(...e))},Ht),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.tools,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,onClick:t=>n.toggleToolActivation(e),class:(0,g.C4)({active:a.activeTool===e.name})},[(0,o.Lk)("img",{class:"tool__icon",src:e.icon,alt:e.name,onMouseover:t=>n.showTooltip(e.name),onMouseleave:t[1]||(t[1]=(...e)=>n.hideTooltip&&n.hideTooltip(...e))},null,40,Ut),l.showTooltipFlag&&l.currentTool===e.name?((0,o.uX)(),(0,o.CE)("span",Wt,(0,g.v_)(e.name),1)):(0,o.Q3)("",!0)],10,Et)))),128)),(0,o.Lk)("div",{onClick:t[2]||(t[2]=(...e)=>n.saveImage&&n.saveImage(...e))},jt)]),l.isModalVisible?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[8]||(t[8]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"modal"},[(0,o.Lk)("div",{class:"modal-content",onClick:t[7]||(t[7]=(0,i.D$)((()=>{}),["stop"]))},[(0,o.Lk)("div",Vt,[(0,o.Lk)("img",{src:Ft,alt:"Upload",class:"file-upload-button",onClick:t[3]||(t[3]=(...e)=>n.openFileInput&&n.openFileInput(...e))}),Nt,(0,o.Lk)("input",{ref:"fileInput",id:"file-upload",type:"file",accept:"image/*",onChange:t[4]||(t[4]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e)),style:{display:"none"}},null,544),(0,o.Lk)("div",zt,[(0,o.bo)((0,o.Lk)("input",{id:"image-url",type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>l.imageUrl=e),placeholder:"Введите URL изображения",class:"upload-button url-input"},null,512),[[i.Jo,l.imageUrl]]),(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.loadImageFromUrl&&n.loadImageFromUrl(...e)),class:"upload-button"},"Загрузить")])])])])):(0,o.Q3)("",!0)],64)}a(4603),a(7566),a(8721);var Kt={name:"sidebar-menu",emits:["imageSelected","update:activeTool","image-selected","openResizeModal"],props:{activeTool:String},data(){return{tools:[{id:1,name:"Пипетка",icon:a(6260)},{id:2,name:"Изменение размера",icon:a(4447)},{id:3,name:"Рука",icon:a(3034)},{id:4,name:"Кривые",icon:a(7763)},{id:5,name:"Фильтрация",icon:a(3243)}],showTooltipFlag:!1,currentTool:"",isModalVisible:!1,imageUrl:""}},methods:{toggleToolActivation(e){this.$emit("update:activeTool",this.activeTool===e.name?"":e.name),"Изменение размера"===e.name&&this.$emit("openResizeModal")},showTooltip(e){this.showTooltipFlag=!0,this.currentTool=e},hideTooltip(){this.showTooltipFlag=!1,this.currentTool=""},openModalUpload(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},openFileInput(){this.$refs.fileInput.click()},handleFileUpload(e){const t=e.target,a=t.files?.[0];if(a){const e=URL.createObjectURL(a);this.selectedImage=e,this.$emit("image-selected",e),t.value=""}this.closeModal()},loadImageFromUrl(){this.$emit("image-selected",this.imageUrl),this.selectedImage=this.imageUrl,this.imageUrl="",this.closeModal()},saveImage(){this.$emit("save-image")}},beforeUnmount(){this.selectedImage&&URL.revokeObjectURL(this.selectedImage)}};const Yt=(0,A.A)(Kt,[["render",Gt],["__scopeId","data-v-90137038"]]);var Jt=Yt,Zt={name:"HomePage",components:{ImageCanvas:Dt,Sidebar:Jt},data(){return{activeTool:"",selectedImage:null,selectedColor:null,isResizeModalVisible:!1}},methods:{handleImageSelected(e){this.selectedImage=e},handleColorSelected(e){this.selectedColor=e},handleOpenResizeModal(){this.isResizeModalVisible=!0},handleCloseResizeModal(){this.isResizeModalVisible=!1},saveImage(){this.$refs.imageCanvas.saveImage()}}};const _t=(0,A.A)(Zt,[["render",u],["__scopeId","data-v-7c7d06a6"]]);var qt=_t;const $t=[{path:"/",name:"home",component:qt}],ea=(0,d.aE)({history:(0,d.Bt)(),routes:$t});var ta=ea,aa=a(782),ia=(0,aa.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,i.Ef)(c).use(ia).use(ta).mount("#app")},7763:function(e,t,a){e.exports=a.p+"img/curve.4483ea57.png"},4447:function(e){e.exports="data:image/png;base64,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"},3243:function(e,t,a){e.exports=a.p+"img/filtering.5f250cd8.png"},3034:function(e,t,a){e.exports=a.p+"img/hand.19df0ef0.png"},6260:function(e,t,a){e.exports=a.p+"img/pipette.c50db0b8.png"}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,i,o,s){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],s=e[c][2];for(var n=!0,A=0;A<i.length;A++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](i[A])}))?i.splice(A--,1):(n=!1,s<l&&(l=s));if(n){e.splice(c--,1);var r=o();void 0!==r&&(t=r)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/photoeditor/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,s,l=i[0],n=i[1],A=i[2],r=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(A)var c=A(a)}for(t&&t(i);r<l.length;r++)s=l[r],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},i=self["webpackChunkphoto_editor"]=self["webpackChunkphoto_editor"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(8915)}));i=a.O(i)})();
//# sourceMappingURL=app.ce7f28d6.js.map