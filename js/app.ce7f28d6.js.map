{"version":3,"file":"js/app.ce7f28d6.js","mappings":"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","sources":["webpack://photo-editor/./src/App.vue","webpack://photo-editor/./src/App.vue?7ccd","webpack://photo-editor/./src/pages/home.vue","webpack://photo-editor/./src/components/ImageCanvas.vue","webpack://photo-editor/./src/components/ImageFooter.vue","webpack://photo-editor/./src/components/ImageFooter.vue?49a8","webpack://photo-editor/./src/components/ModalColor.vue","webpack://photo-editor/./src/components/ModalColor.vue?a765","webpack://photo-editor/./src/components/CorrectionsModal.vue","webpack://photo-editor/./src/components/CorrectionsModal.vue?d544","webpack://photo-editor/./src/components/FiltrationModal.vue","webpack://photo-editor/./src/components/FiltrationModal.vue?4c15","webpack://photo-editor/./src/nearestNeighborInterpolation.ts","webpack://photo-editor/./src/components/ImageCanvas.vue?e884","webpack://photo-editor/./src/components/Sidebar.vue","webpack://photo-editor/./src/components/Sidebar.vue?5d01","webpack://photo-editor/./src/pages/home.vue?3b27","webpack://photo-editor/./src/pages/routes.ts","webpack://photo-editor/./src/store/index.ts","webpack://photo-editor/./src/main.ts","webpack://photo-editor/webpack/bootstrap","webpack://photo-editor/webpack/runtime/chunk loaded","webpack://photo-editor/webpack/runtime/compat get default export","webpack://photo-editor/webpack/runtime/define property getters","webpack://photo-editor/webpack/runtime/global","webpack://photo-editor/webpack/runtime/hasOwnProperty shorthand","webpack://photo-editor/webpack/runtime/publicPath","webpack://photo-editor/webpack/runtime/jsonp chunk loading","webpack://photo-editor/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n};\n</script>\n\n<style>\n@import \"./styles/reset.css\";\n\n* {\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n.app-container {\n  height: 100vh;\n  width: 100vw;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=c467f94a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=c467f94a&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div class=\"content\">\n      <Sidebar\n        v-model:activeTool=\"activeTool\"\n        @image-selected=\"handleImageSelected\"\n        @openResizeModal=\"handleOpenResizeModal\"\n        @save-image=\"saveImage\"\n      />\n      <ImageCanvas\n        :activeTool=\"activeTool\"\n        :selectedImage=\"selectedImage\"\n        @color-selected=\"handleColorSelected\"\n        :isResizeModalVisible=\"isResizeModalVisible\"\n        @closeResizeModal=\"handleCloseResizeModal\"\n        ref=\"imageCanvas\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ImageCanvas from \"../components/ImageCanvas.vue\";\nimport Sidebar from \"../components/Sidebar.vue\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    ImageCanvas,\n    Sidebar,\n  },\n  data() {\n    return {\n      activeTool: \"\",\n      selectedImage: null,\n      selectedColor: null,\n      isResizeModalVisible: false,\n    };\n  },\n  methods: {\n    handleImageSelected(imageData) {\n      this.selectedImage = imageData;\n    },\n    handleColorSelected(colorData) {\n      this.selectedColor = colorData;\n    },\n    handleOpenResizeModal() {\n      this.isResizeModalVisible = true;\n    },\n    handleCloseResizeModal() {\n      this.isResizeModalVisible = false;\n    },\n    saveImage() {\n      this.$refs.imageCanvas.saveImage();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.content {\n  display: flex;\n  align-items: flex-end;\n  width: 100%;\n  height: 100%;\n  background-color: #383838;\n}\n</style>\n","<template>\n  <div class=\"canvas-container\">\n    <canvas\n      id=\"canvas\"\n      class=\"canvas-editor\"\n      ref=\"canvas\"\n      @mousedown=\"handleMouseDown\"\n      @mousemove=\"handleMouseMove\"\n      @mouseup=\"handleMouseUp\"\n      @mouseleave=\"handleMouseLeave\"\n    ></canvas>\n    <ModalColor\n      class=\"canvas-modal\"\n      v-if=\"colorInfoPanelVisible\"\n      :selectedColor=\"selectedColors\"\n      :xMouse=\"selectedPixel.x\"\n      :yMouse=\"selectedPixel.y\"\n      @closeSetting=\"colorInfoPanelVisible = false\"\n    />\n    <CorrectionsModal\n      class=\"canvas-modal\"\n      v-if=\"correctionPanelVisible\"\n      :canvasRef=\"canvasRef || {}\"\n      :xMouse=\"offsetX\"\n      :yMouse=\"offsetY\"\n      :iw=\"displayImageWidth\"\n      :ih=\"displayImageHeight\"\n      :origImg=\"selectedImage\"\n      @update:origImg=\"origImg = $event\"\n      @renderImage=\"renderImage\"\n      @closeSetting=\"correctionPanelVisible = false\"\n    />\n    <FiltrationModal\n      class=\"canvas-modal\"\n      v-if=\"filtrPanelVisible\"\n      :canvasRef=\"canvasRef || {}\"\n      :xMouse=\"offsetX\"\n      :yMouse=\"offsetY\"\n      :iw=\"displayImageWidth\"\n      :ih=\"displayImageHeight\"\n      :origImg=\"selectedImage\"\n      @update:origImg=\"origImg = $event\"\n      @renderImage=\"renderImage\"\n      @closeSetting=\"filtrPanelVisible = false\"\n    />\n\n    <ImageFooter\n      :imageWidth=\"imageWidth\"\n      :imageHeight=\"imageHeight\"\n      :selectedColor=\"selectedColor\"\n      :selectedPixel=\"selectedPixel\"\n      :activeTool=\"activeTool\"\n      :selectedScale=\"selectedScale\"\n      @scale-change=\"handleScaleChange\"\n    />\n\n    <div v-if=\"isModalVisible\" class=\"modal\">\n      <div class=\"modal-content modal-content__wrapper\" @click.stop>\n        <h2 class=\"modal__title\">Изменение размера изображения</h2>\n        <div class=\"modal-content__item\">\n          <label for=\"interpolation-algorithm\">Алгоритм интерполяции:</label>\n          <select\n            v-model=\"interpolationAlgorithm\"\n            id=\"interpolation-algorithm\"\n            class=\"transparent-input\"\n          >\n            <option\n              value=\"nearest-neighbor\"\n              title=\"Алгоритм ближайшего соседа используется для изменения размера изображения путем выбора цвета пикселя из оригинального \n  изображения, наиболее близкого к центру пикселя в новом изображении.\"\n            >\n              Ближайший сосед\n            </option>\n          </select>\n        </div>\n        <div class=\"modal-content__item\">\n          <label for=\"resizeType\">Тип изменения:</label>\n          <select\n            v-model=\"resizeType\"\n            id=\"resizeType\"\n            class=\"transparent-input\"\n            @change=\"updateModal($event)\"\n          >\n            <option value=\"percentage\">Проценты</option>\n            <option value=\"pixels\">Пиксели</option>\n          </select>\n        </div>\n        <div class=\"modal-content__item modal-content__ratio\">\n          <label class=\"modal-content__ratio-btn\" for=\"maintainAspectRatio\">\n            <input\n              type=\"checkbox\"\n              id=\"maintainAspectRatio\"\n              v-model=\"maintainAspectRatio\"\n            />\n            Фиксировать соотношение сторон\n          </label>\n        </div>\n        <div class=\"modal-content__item\">\n          <label for=\"width\">Ширина:</label>\n          <input\n            type=\"number\"\n            :value=\"newWidth\"\n            id=\"width\"\n            min=\"1\"\n            class=\"transparent-input\"\n            @change=\"updateNewWidth\"\n          />\n        </div>\n        <div class=\"modal-content__item\">\n          <label for=\"height\">Высота:</label>\n          <input\n            type=\"number\"\n            :value=\"newHeight\"\n            id=\"height\"\n            min=\"1\"\n            class=\"transparent-input\"\n            @change=\"updateNewHeight\"\n          />\n        </div>\n        <div class=\"modal-content__stat\">\n          <div>\n            {{ ((imageWidth * imageHeight) / 1000000).toFixed(4) }} Мп\n          </div>\n          <div>=======></div>\n          <div>\n            {{ countPixels() }} Мп\n          </div>\n        </div>\n        <div class=\"modal-content__item modal-content__button\">\n          <button @click=\"closeResizeModal\">Отмена</button>\n          <button @click=\"handleModalConfirm\">Применить</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ImageFooter from \"./ImageFooter.vue\";\nimport ModalColor from \"./ModalColor.vue\";\nimport CorrectionsModal from \"./CorrectionsModal.vue\";\nimport FiltrationModal from \"./FiltrationModal.vue\";\nimport { nearestNeighborInterpolation } from \"@/nearestNeighborInterpolation.ts\";\nimport { watch } from \"vue\";\n\nexport default {\n  name: \"ImageCanvas\",\n  components: {\n    ImageFooter,\n    ModalColor,\n    CorrectionsModal,\n    FiltrationModal,\n  },\n  emits: [\"closeResizeModal\"],\n  data() {\n    return {\n      canvasRef: null,\n      imageData: null,\n      displayImageData: null,\n      displayImage: null,\n      imageWidth: 0,\n      imageHeight: 0,\n      displayImageWidth: 0,\n      displayImageHeight: 0,\n      selectedColor: null,\n      selectedColors: \"\",\n      selectedPixel: { x: 0, y: 0 },\n      selectedScale: 100,\n      isModalVisible: this.isResizeModalVisible,\n      interpolationAlgorithm: \"nearest-neighbor\",\n      resizeType: \"pixels\",\n      newWidth: null,\n      newHeight: null,\n      maintainAspectRatio: false,\n      aspectRatio: 1,\n      widthPercent: null,\n      heightPercent: null,\n      colorInfoPanelVisible: false,\n      canvasOffsetX: 0,\n      offsetX: 0,\n      offsetY: 0,\n      canvasOffsetY: 0,\n      dragging: false,\n      correctionPanelVisible: false,\n      filtrPanelVisible: false,\n    };\n  },\n  props: {\n    activeTool: String,\n    selectedImage: String,\n    isResizeModalVisible: Boolean,\n  },\n  mounted() {\n    this.canvasRef = this.$refs.canvas;\n    this.canvasRef.addEventListener(\"click\", this.handleCanvasClick);\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  },\n  watch: {\n    isResizeModalVisible(newValue) {\n      this.isModalVisible = newValue;\n      this.updateModal();\n    },\n    selectedImage() {\n      this.selectedScale = 100;\n      const img = new Image();\n      img.crossOrigin = \"\";\n      img.src = this.selectedImage;\n      img.onload = () => {\n        console.log(\"Image loaded\");\n        this.imageData = this.extractImageData(img);\n        this.imageWidth = this.imageData.width;\n        this.imageHeight = this.imageData.height;\n        this.calcDisplayImageData();\n        this.renderImage();\n      }\n    },\n    activeTool(newValue) {\n      if (newValue === \"Пипетка\") {\n        this.colorInfoPanelVisible = true;\n        this.correctionPanelVisible = false;\n        this.filtrPanelVisible = false;\n      }\n      if (newValue === \"Кривые\") {\n        this.colorInfoPanelVisible = false;\n        this.correctionPanelVisible = true;\n        this.filtrPanelVisible = false;\n      }\n      if (newValue === \"Фильтрация\") {\n        this.colorInfoPanelVisible = false;\n        this.correctionPanelVisible = false;\n        this.filtrPanelVisible = true;\n      }\n    },\n  },\n  methods: {\n    extractImageData(img) {\n        const canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(img, 0, 0);\n        return ctx.getImageData(0, 0, canvas.width, canvas.height);\n    },\n    handleMouseDown(event) {\n      if (this.activeTool === \"Рука\") {\n        this.dragging = true;\n        this.lastX = event.clientX;\n        this.lastY = event.clientY;\n        event.preventDefault();\n      }\n    },\n    handleMouseMove(event) {\n      if (this.dragging) {\n        const dx = event.clientX - this.lastX;\n        const dy = event.clientY - this.lastY;\n\n        this.lastX = event.clientX;\n        this.lastY = event.clientY;\n\n        this.canvasRef.style.cursor = \"grabbing\";\n\n        // Обновление положения изображения без очистки и перерисовки\n        this.canvasOffsetX += dx;\n        this.canvasOffsetY += dy;\n\n        // Перерисовка изображения с новыми координатами\n        this.renderImage();\n\n        event.preventDefault();\n      }\n    },\n    handleMouseUp(event) {\n      if (this.dragging && this.activeTool === \"Рука\") {\n        this.dragging = false;\n        this.canvasRef.style.cursor = \"grab\";\n        event.preventDefault();\n      }\n    },\n    handleMouseLeave(event) {\n      if (this.dragging && this.activeTool === \"Рука\") {\n        this.dragging = false;\n        this.canvasRef.style.cursor = \"grab\";\n        event.preventDefault();\n      }\n    },\n    handleKeyDown(event) {\n      if (this.activeTool === \"Рука\" && !this.dragging) {\n        const shiftModifier = event.shiftKey ? 5 : 1; // Ускорение при зажатом Shift\n        switch (event.key) {\n          case \"ArrowLeft\":\n            this.canvasOffsetX -= 10 * shiftModifier;\n            break;\n          case \"ArrowRight\":\n            this.canvasOffsetX += 10 * shiftModifier;\n            break;\n          case \"ArrowUp\":\n            this.canvasOffsetY -= 10 * shiftModifier;\n            break;\n          case \"ArrowDown\":\n            this.canvasOffsetY += 10 * shiftModifier;\n            break;\n        }\n        this.renderImage();\n      }\n    },\n    calcDisplayImageData() {\n      const inittialScaleFactor = this.calculateScaleFactor(this.imageWidth, this.imageHeight);\n      const scaledWidth = Math.round(this.imageData.width * inittialScaleFactor * (this.selectedScale / 100));\n      const scaledHeight = Math.round(this.imageData.height * inittialScaleFactor * (this.selectedScale / 100));\n      this.displayImageData = this.scaleImageData(this.imageData, scaledWidth, scaledHeight);\n    },\n    renderImage() {\n\n      console.log(\"renderImage: Enter\");\n\n      if (this.imageData == null) {\n        console.log(\"renderImage: ImageData is null when render called\");\n        return ;\n      }\n\n      const img = this.imageData;\n      const canvas = this.canvasRef;\n      const ctx = this.canvasRef?.getContext(\"2d\");\n      const scrollX = this.$refs.canvas.parentNode.scrollLeft;\n      const scrollY = this.$refs.canvas.parentNode.scrollTop;\n      const canvasWidth = this.canvasRef.clientWidth;\n      const canvasHeight = this.canvasRef.clientHeight;\n\n      console.log(`W${canvasWidth} H${canvasHeight} CW${canvas.width} CH${canvas.height}`)\n\n      // ctx.clearRect(0, 0, canvas.width, canvas.height);\n      canvas.width = canvasWidth;\n      canvas.height = canvasHeight;\n\n      const inittialScaleFactor = this.calculateScaleFactor(this.imageWidth, this.imageHeight);\n      const scaledWidth = Math.round(img.width * inittialScaleFactor * (this.selectedScale / 100));\n      const scaledHeight = Math.round(img.height * inittialScaleFactor * (this.selectedScale / 100));\n\n      console.log(`Scaling: ${img.width},${this.inittialScaleFactor},${this.selectedScale},${scaledWidth}`);\n\n      let x = Math.round((canvasWidth - scaledWidth) / 2) + this.canvasOffsetX - scrollX;\n      let y = Math.round((canvasHeight - scaledHeight) / 2) + this.canvasOffsetY - scrollY;\n\n      this.offsetX = x;\n      this.offsetY = y;\n\n      this.displayImageWidth = scaledWidth;\n      this.displayImageHeight = scaledHeight;\n\n      // Добавляем отступы\n      const margin = 10;\n      x = Math.min(Math.max(x, - scaledWidth + margin), canvasWidth - margin);\n      y = Math.min(Math.max(y, - scaledHeight + margin), canvasHeight - margin);\n\n      const aspectRatio = this.imageWidth / this.imageHeight;\n      this.aspectRatio = aspectRatio;\n\n      ctx.putImageData(this.displayImageData, x, y);\n\n    },\n    scaleImageData(imageData, width, height) {\n      const scaledImageData = new ImageData(width, height);\n      const scaleWidth = width / imageData.width;\n      const scaleHeight = height / imageData.height;\n\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          const srcX = Math.floor(x / scaleWidth);\n          const srcY = Math.floor(y / scaleHeight);\n          const srcIndex = (srcY * imageData.width * 4) + (srcX * 4);\n          const destIndex = (y * width * 4) + (x * 4);\n\n          scaledImageData.data[destIndex] = imageData.data[srcIndex];\n          scaledImageData.data[destIndex + 1] = imageData.data[srcIndex + 1];\n          scaledImageData.data[destIndex + 2] = imageData.data[srcIndex + 2];\n          scaledImageData.data[destIndex + 3] = imageData.data[srcIndex + 3];\n        }\n      }\n\n      return scaledImageData;\n    },   \n    calculateScaleFactor(originalWidth, originalHeight) {\n      const canvas = this.$refs.canvas;\n      const minMargin = 50;\n      const availableWidth = this.canvasRef.clientWidth - 2 * minMargin;\n      const availableHeight = this.canvasRef.clientHeight - 2 * minMargin;\n\n      const widthScaleFactor = availableWidth / originalWidth;\n      const heightScaleFactor = availableHeight / originalHeight;\n\n      return Math.min(widthScaleFactor, heightScaleFactor);\n    },\n    handleCanvasClick(event) {\n      const canvasRect = this.$refs.canvas.getBoundingClientRect();\n      const canvasOffsetX = (this.canvasRef.clientWidth - this.imageWidth) / 2;\n      const canvasOffsetY =\n        (this.canvasRef.clientHeight - this.imageHeight) / 2;\n\n      if (this.activeTool === \"Пипетка\") {\n        const x = Math.round(event.clientX - canvasRect.left - canvasOffsetX);\n        const y = Math.round(event.clientY - canvasRect.top - canvasOffsetY);\n        this.selectedPixel = { x, y };\n        this.updateSelectedColor();\n      }\n    },\n\n    updateSelectedColor() {\n      const x = this.selectedPixel.x;\n      const y = this.selectedPixel.y;\n\n      // Координаты относительно изображения\n      const imageX = x + (this.canvasRef.clientWidth - this.imageWidth) / 2;\n      const imageY = y + (this.canvasRef.clientHeight - this.imageHeight) / 2;\n\n      const ctx = this.canvasRef.getContext(\"2d\");\n      const pixelData = ctx.getImageData(imageX, imageY, 1, 1).data;\n      const r = pixelData[0];\n      const g = pixelData[1];\n      const b = pixelData[2];\n      this.selectedColors = `rgb(${r}, ${g}, ${b})`;\n      this.selectedColor = { r, g, b };\n    },\n    handleModalConfirm() {\n\n      let scaledWidth = this.newWidth;\n      let scaledHeight = this.newHeight;\n\n      if (this.resizeType === \"percentage\") {\n        scaledWidth = Math.round((this.newWidth / 100) * this.imageWidth);\n        scaledHeight = Math.round((this.newHeight / 100) * this.imageHeight);\n      }\n\n      this.imageData = nearestNeighborInterpolation(\n        this.imageData,\n        scaledWidth,\n        scaledHeight\n      );\n\n      this.imageWidth = this.imageData.width;\n      this.imageHeight = this.imageData.height;\n\n      this.calcDisplayImageData();\n      this.renderImage();\n\n      this.closeResizeModal();\n    },\n    updateModal() {\n      if (this.resizeType === \"pixels\") {\n        this.newWidth = this.imageWidth;\n        this.newHeight = this.imageHeight;\n        const aspectRatio = this.imageWidth / this.imageHeight;\n        this.aspectRatio = aspectRatio;\n      } else if (this.resizeType === \"percentage\") {\n        this.aspectRatio = 1;\n        this.widthPercent = this.newWidth;\n        this.heightPercent = this.newHeight;\n        this.newWidth = 100;\n        this.newHeight = 100;\n      }\n    },\n    updateNewWidth(event) {\n      let value = Math.floor(+event.target.value); // Преобразование в число и округление в меньшую сторону\n      if (value <= 0) value = 1; // Убеждаемся, что значение не меньше 1\n      if (value > 7680) value = 7680; // Ограничиваем значение до 7680 (ширина 8K)\n      this.newWidth = value;\n      if (this.maintainAspectRatio) {\n        this.newHeight = Math.round(value / this.aspectRatio);\n      }\n    },\n\n    updateNewHeight(event) {\n      let value = Math.floor(+event.target.value); // Преобразование в число и округление в меньшую сторону\n      if (value <= 0) value = 1; // Убеждаемся, что значение не меньше 1\n      if (value > 4320) value = 4320; // Ограничиваем значение до 4320 (высота 8K)\n      this.newHeight = value;\n      if (this.maintainAspectRatio) {\n        this.newWidth = Math.round(value * this.aspectRatio);\n      }\n    },\n    countPixels() {\n      if (this.resizeType === \"pixels\") {\n        return ((this.newWidth * this.newHeight) / 1000000).toFixed(4);\n      }\n      if (this.resizeType === \"percentage\") {\n        const width = this.imageWidth;\n        const height = this.imageHeight;\n        const percentage = width * height;\n        return (\n          ((this.newWidth / 100) * (this.newHeight / 100) * percentage) /\n          1000000\n        ).toFixed(4);\n      }\n    },\n    handleScaleChange(scale) {\n      this.selectedScale = scale;\n      this.calcDisplayImageData();\n      this.renderImage();\n    },\n    closeResizeModal() {\n      this.isModalVisible = false;\n      this.$emit(\"closeResizeModal\");\n      this.$emit(\"update:activeTool\", \"\");\n    },\n\n    // Сохранение\n    saveImage() {\n\n      if (this.imageData == null) {\n        return ;\n      }\n\n      const canvas = document.createElement(\"canvas\");\n      const ctx = canvas.getContext(\"2d\");\n      canvas.width = this.imageWidth;\n      canvas.height = this.imageHeight;\n      ctx.putImageData(this.imageData,0,0);\n      const link = document.createElement(\"a\");\n      link.href = canvas.toDataURL(\"image/png\");\n      link.download = \"my_image.png\";\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.canvas-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100vh;\n  flex: 1;\n}\n\n.canvas-editor {\n  height: calc(100% - 25px);\n  width: 100%;\n}\n\n.canvas-modal {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 220px;\n  z-index: 1000;\n  overflow-y: auto;\n  padding: 20px;\n}\n.modal {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  /* Прозрачный черный фон */\n  z-index: 1000;\n}\n\n.transparent-input {\n  width: 65%;\n  padding: 5px;\n  margin-top: 5px;\n  border: 1px solid #fff;\n  background-color: transparent;\n  color: #fff;\n  border-radius: 5px;\n}\n\n.transparent-input:focus {\n  outline: none;\n}\n\n.modal-content__wrapper {\n  background-color: rgba(115, 89, 130, 0.8);\n  padding: 20px;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  max-width: 620px;\n  width: 100%;\n  color: #fff;\n}\n\n.modal-content__item {\n  margin-bottom: 15px;\n  display: flex;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n}\n\n.modal-content__stat {\n  margin-bottom: 15px;\n  display: flex;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n}\n\n.modal-content__ratio {\n  display: flex;\n  align-items: center;\n}\n\n.modal-content__ratio .modal-content__ratio-btn {\n  display: flex;\n  align-items: center;\n}\n\n.modal-content__ratio .modal-content__ratio-btn input[type=\"checkbox\"] {\n  margin-right: 5px;\n  flex-shrink: 0;\n}\n\n.modal-content__button {\n  display: flex;\n  justify-content: space-around;\n}\n\n.modal-content__button button {\n  padding: 10px 20px;\n  border: 1px solid #fff;\n  background-color: transparent;\n  color: #fff;\n  cursor: pointer;\n  border-radius: 5px;\n  transition: background-color 0.3s, border-color 0.3s;\n}\n\n.modal-content__button button {\n  width: 40%;\n}\n\n.modal-content__button button:hover {\n  background-color: #fff;\n  color: #000;\n}\n\n.modal__title {\n  text-align: center;\n}\n\n</style>\n","<template>\n  <div class=\"footer\">\n    <div class=\"image-stat\">\n      <div v-if=\"imageWidth && imageHeight\" class=\"image-info\">\n        Размер: {{ imageWidth }}px x {{ imageHeight }}px;\n      </div>\n      <div v-if=\"selectedColor\" class=\"color-info\">\n        RGB ({{ selectedColor.r }}, {{ selectedColor.g }},\n        {{ selectedColor.b }})\n        <div\n          class=\"color-preview\"\n          :style=\"{\n            backgroundColor: `rgb(${selectedColor.r},${selectedColor.g},${selectedColor.b})`,\n          }\"\n        ></div>\n        Координаты ({{ selectedPixel.x }}; {{ selectedPixel.y }})\n      </div>\n    </div>\n\n    <div class=\"scale-selector\">\n      <select v-model=\"localScale\" @change=\"handleScaleChange\">\n        <option v-for=\"(scale, index) in scales\" :key=\"index\" :value=\"scale\">\n          {{ scale }}%\n        </option>\n      </select>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ImageFooter\",\n  props: {\n    imageWidth: Number,\n    imageHeight: Number,\n    selectedColor: Object,\n    selectedPixel: Object,\n    selectedScale: Number,\n  },\n  data() {\n    return {\n      localScale: this.selectedScale,\n      scales: [12, 25, 50, 75, 100, 150, 200, 300],\n    };\n  },\n  methods: {\n    handleScaleChange() {\n      this.$emit(\"scale-change\", this.localScale);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.footer {\n  background-color: #535353;\n  color: white;\n  height: 25px;\n  display: flex;\n  justify-content: space-between;\n  gap: 15px;\n  width: 100%;\n}\n.image-stat {\n  margin-left: 40px;\n  display: flex;\n  gap: 10px;\n}\n\n.image-info,\n.color-info {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 15px;\n}\n\n.color-preview {\n  width: 16px;\n  height: 16px;\n}\n.scale-selector select {\n  background-color: #535353;\n  color: white;\n  border: none;\n  outline: none;\n  cursor: pointer;\n}\n</style>\n","import { render } from \"./ImageFooter.vue?vue&type=template&id=2b3c25a1&scoped=true\"\nimport script from \"./ImageFooter.vue?vue&type=script&lang=js\"\nexport * from \"./ImageFooter.vue?vue&type=script&lang=js\"\n\nimport \"./ImageFooter.vue?vue&type=style&index=0&id=2b3c25a1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b3c25a1\"]])\n\nexport default __exports__","<template>\n  <aside class=\"sidebar\">\n    <div class=\"panel-header\">\n      <button class=\"close-button\" @click=\"closeSetting\">\n        <img src=\"@/assets/icons/crest.png\" />\n      </button>\n    </div>\n    <div class=\"colors\"></div>\n    <div class=\"colors-info\">\n      <div class=\"colors-picked\">\n        <input\n          v-model=\"pickedButton\"\n          value=\"button1\"\n          type=\"radio\"\n          class=\"color-button\"\n          :style=\"{ background: color1 }\"\n        />\n        <div class=\"color-parameters\">\n          <p>{{ color1X }}</p>\n          <p>:</p>\n          <p>{{ color1Y }}</p>\n        </div>\n      </div>\n      <div class=\"colors-picked\">\n        <input\n          v-model=\"pickedButton\"\n          value=\"button2\"\n          type=\"radio\"\n          class=\"color-button\"\n          :style=\"{ background: color2 }\"\n        />\n        <div class=\"color-parameters\">\n          <p>{{ color2X }}</p>\n          <p>:</p>\n          <p>{{ color2Y }}</p>\n        </div>\n      </div>\n      <div class=\"colors-table\">\n        <div class=\"colors-table-info\">\n          <div\n            class=\"color-parameter\"\n            @mouseenter=\"showTooltipFlag = true\"\n            @mouseleave=\"showTooltipFlag = false\"\n          >\n            RGB\n            <div class=\"tooltip\" v-if=\"showTooltipFlag\">\n              <div>RGB: Цветовая модель, сочетающая интенсивность красного, зеленого и синего света для создания цветов на цифровых дисплеях.</div>\n              <div>XYZ: Стандартное цветовое пространство, представляющее зрительное\n              восприятие цветов человеком, используется в качестве основы для\n              других цветовых пространств.</div>\n              <div>Lab: Воспринимаемое однородное цветовое пространство с компонентами\n              яркости (L*) и осями контраста цвета (a*, b*), идеально\n              подходящими для точной цветопередачи и коррекции.</div>\n            </div>\n        </div>\n          <div class=\"color-parameters\">\n            <div class=\"color-param\">\n              <p v-for=\"value in color1RGB.split(',')\" :key=\"value\">\n                {{ value.trim() }}\n              </p>\n            </div>\n            <div class=\"color-param\">\n              <p v-for=\"value in color2RGB.split(',')\" :key=\"value\">\n                {{ value.trim() }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"colors-table-info\">\n          <p\n            class=\"color-parameter\"\n            @mouseenter=\"showTooltipFlag = true\"\n            @mouseleave=\"showTooltipFlag = false\"\n          >\n            XYZ\n          </p>\n          <div class=\"color-parameters\">\n            <div class=\"color-param\">\n              <p v-for=\"value in color1XYZ.split(',')\" :key=\"value\">\n                {{ value.trim() }}\n              </p>\n            </div>\n            <div class=\"color-param\">\n              <p v-for=\"value in color2XYZ.split(',')\" :key=\"value\">\n                {{ value.trim() }}\n              </p>\n            </div>\n          </div>\n        </div>\n      <div class=\"colors-table\">\n        <div class=\"colors-table-info\">\n          <p\n            class=\"color-parameter\"\n            @mouseenter=\"showTooltipFlag = true\"\n            @mouseleave=\"showTooltipFlag = false\"\n          >\n            Lab\n          </p>\n          <div class=\"color-parameters\">\n            <div class=\"color-param\">\n              <p v-for=\"value in color1Lab.split(',')\" :key=\"value\">\n                {{ value.trim() }}\n              </p>\n            </div>\n            <div class=\"color-param\">\n              <p v-for=\"value in color2Lab.split(',')\" :key=\"value\">\n                {{ value.trim() }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"contrast\"\n      v-if=\"contrast\"\n      :style=\"{ color: contrast < 4.5 ? 'red' : 'white' }\"\n    >\n      Контраст: {{ contrast }}:1\n    </div>\n  </aside>\n</template>\n\n<script>\nexport default {\n  name: \"sidebar-setting\",\n\n  props: {\n    selectedColor: String,\n    xMouse: Number,\n    yMouse: Number,\n  },\n  data() {\n    return {\n      pickedButton: null,\n      color1: null,\n      color2: null,\n      color1X: 0,\n      color1Y: 0,\n      color2X: 0,\n      color2Y: 0,\n      color1RGB: \"\",\n      color2RGB: \"\",\n      color1XYZ: \"\",\n      color2XYZ: \"\",\n      color1Lab: \"\",\n      color2Lab: \"\",\n      contrast: null,\n      showTooltipFlag: false,\n    };\n  },\n  methods: {\n    // Настройка пипетки\n    closeSetting() {\n      this.$emit(\"closeSetting\");\n    },\n    updateColors() {\n      const rgb = this.parseColor(this.selectedColor);\n      const xyz = this.rgbToXyz(rgb);\n      const lab = this.xyzToLab(xyz);\n      if (this.pickedButton === \"button1\") {\n        this.color1X = this.xMouse;\n        this.color1Y = this.yMouse;\n        this.color1RGB = this.prettyColor(rgb, true);\n        this.color1XYZ = this.prettyColor(xyz);\n        this.color1Lab = this.prettyColor(lab);\n      } else {\n        this.color2X = this.xMouse;\n        this.color2Y = this.yMouse;\n        this.color2RGB = this.prettyColor(rgb, true);\n        this.color2XYZ = this.prettyColor(xyz);\n        this.color2Lab = this.prettyColor(lab);\n      }\n\n      if (this.color1 && this.color2) {\n        this.contrast = this.calculateContrastRatio(this.color1, this.color2);\n      }\n    },\n    prettyColor([tone1, tone2, tone3], isRGB = false) {\n      if (isRGB) return `${tone1}, ${tone2}, ${tone3}`;\n      return `${tone1.toFixed(1)}, ${tone2.toFixed(1)}, ${tone3.toFixed(1)}`;\n    },\n    calculateContrastRatio(color1, color2) {\n      const sRGBToLinear = (c) => {\n        c = c / 255;\n        return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n      };\n\n      const getLuminance = (color) => {\n        const rgb = this.parseColor(color);\n        const r = sRGBToLinear(rgb[0]);\n        const g = sRGBToLinear(rgb[1]);\n        const b = sRGBToLinear(rgb[2]);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n      };\n\n      const luminance1 = getLuminance(color1);\n      const luminance2 = getLuminance(color2);\n\n      const maxLuminance = Math.max(luminance1, luminance2);\n      const minLuminance = Math.min(luminance1, luminance2);\n\n      const contrastRatio = (maxLuminance + 0.05) / (minLuminance + 0.05);\n\n      return contrastRatio.toFixed(1);\n    },\n    parseColor(input) {\n      if (input.substr(0, 1) == \"#\") {\n        var collen = (input.length - 1) / 3;\n        var fact = [17, 1, 0.062272][collen - 1];\n        return [\n          Math.round(parseInt(input.substr(1, collen), 16) * fact),\n          Math.round(parseInt(input.substr(1 + collen, collen), 16) * fact),\n          Math.round(parseInt(input.substr(1 + 2 * collen, collen), 16) * fact),\n        ];\n      } else\n        return input\n          .split(\"(\")[1]\n          .split(\")\")[0]\n          .split(\",\")\n          .map((x) => +x);\n    },\n    rgbToXyz(rgb) {\n      let r = rgb[0] / 255;\n      let g = rgb[1] / 255;\n      let b = rgb[2] / 255;\n\n      // Применяем коррекцию для RGB пространства\n      r = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;\n      g = g > 0.04045 ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;\n      b = b > 0.04045 ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;\n\n      // Применяем коэффициенты преобразования\n      r *= 100;\n      g *= 100;\n      b *= 100;\n\n      // Вычисляем XYZ\n      const x = Math.round(r * 0.4124 + g * 0.3576 + b * 0.1805);\n      const y = Math.round(r * 0.2126 + g * 0.7152 + b * 0.0722);\n      const z = Math.round(r * 0.0193 + g * 0.1192 + b * 0.9505);\n\n      return [x, y, z];\n    },\n\n    xyzToLab(xyz) {\n      const [x, y, z] = xyz;\n\n      // Коэффициенты для преобразования\n      const xn = 95.047;\n      const yn = 100.0;\n      const zn = 108.883;\n\n      const fx = x / xn;\n      const fy = y / yn;\n      const fz = z / zn;\n\n      const epsilon = 0.008856;\n      const kappa = 903.3;\n\n      const f = (t) =>\n        t > epsilon ? Math.pow(t, 1 / 3) : (kappa * t + 16) / 116;\n\n      const L = Math.round(116 * f(fy) - 16);\n      const a = Math.round(500 * (f(fx) - f(fy)));\n      const b = Math.round(200 * (f(fy) - f(fz)));\n\n      return [L, a, b];\n    },\n  },\n  watch: {\n    selectedColor(newVal) {\n      if (this.pickedButton === \"button1\") {\n        this.color1 = newVal;\n        this.updateColors();\n      }\n      if (this.pickedButton === \"button2\") {\n        this.color2 = newVal;\n        this.updateColors();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.sidebar {\n  padding-top: 40px;\n  min-width: 220px;\n  background-color: #535353;\n  padding: 10px;\n  height: calc(100vh - 25px);\n  border-bottom: 2px solid #383838;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: end;\n}\n\n.close-button {\n  cursor: pointer;\n  color: #fff;\n  background: transparent;\n  width: 24px;\n  height: 24px;\n  margin-bottom: 20px;\n}\n\n.colors {\n  display: flex;\n  justify-content: space-evenly;\n  color: #fff;\n}\n\n.colors-picked {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  gap: 15px;\n}\n\n.color-button {\n  -webkit-appearance: none;\n  cursor: pointer;\n  border: 1px solid white;\n  border-radius: 5px;\n  width: 22px;\n  height: 22px;\n\n  &:checked {\n    outline: 1px solid white;\n    border: 1px solid white;\n  }\n}\n\n.colors-info {\n  font-size: small;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #fff;\n  gap: 10px;\n}\n\n.color-parameters {\n  border-radius: 5px;\n  width: 80%;\n  display: flex;\n  margin-top: 10px; \n  justify-content: space-evenly;\n}\n\n.color-param {\n  text-align: center;\n}\n\n.color-parameter {\n  margin-top: 10px;\n}\n\n.contrast {\n  border: 1px solid white;\n  text-align: center;\n  margin-top: 10px;\n}\n\n.tooltip {\n  position: absolute;\n  background-color: #fff;\n  color: grey;\n  border: solid 1px;\n  border-radius: 3px;\n  padding: 2px;\n  left: 10%;\n  transform: translateX(-10%);\n  z-index: 999;\n}\n\n.colors-table {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.colors-table-info {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n}\n</style>\n","import { render } from \"./ModalColor.vue?vue&type=template&id=4e2e49a1&scoped=true\"\nimport script from \"./ModalColor.vue?vue&type=script&lang=js\"\nexport * from \"./ModalColor.vue?vue&type=script&lang=js\"\n\nimport \"./ModalColor.vue?vue&type=style&index=0&id=4e2e49a1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e2e49a1\"]])\n\nexport default __exports__","<template>\n  <aside class=\"sidebar\">\n    <div class=\"panel-header\">\n      <button class=\"close-button\" @click=\"closeSetting\">\n        <img src=\"@/assets/icons/crest.png\" />\n      </button>\n    </div>\n    <div class=\"input-fields\">\n      <div class=\"input-fields-wrapper\">\n        <div class=\"input-fields-i\">\n          <label for=\"input1\">X1:</label>\n          <input id=\"input1\" :value=\"input1\" @change=\"updateX1\" />\n        </div>\n        <div class=\"input-fields-i\">\n          <label for=\"output1\">Y1:</label>\n          <input id=\"output1\" :value=\"output1\" @change=\"updateY1\" />\n        </div>\n      </div>\n      <div class=\"hrhr\"></div>\n      <div class=\"input-fields-wrapper\">\n        <div class=\"input-fields-i\">\n          <label for=\"input2\">X2:</label>\n          <input id=\"input2\" :value=\"input2\" @change=\"updateX2\" />\n        </div>\n        <div class=\"input-fields-i\">\n          <label for=\"output2\">Y2:</label>\n          <input id=\"output2\" :value=\"output2\" @change=\"updateY2\" />\n        </div>\n      </div>\n    </div>\n    <div class=\"buttons\">\n      <label class=\"prewiew_label\">\n        <input type=\"checkbox\" class=\"prewiew_input\" v-model=\"togglePreview\"/>\n        Превью\n      </label>\n      <button class=\"apply-button\" @click=\"applyCorrection\">Применить</button>\n      <button class=\"reset-button\" @click=\"resetValues\">Сброс</button>\n    </div>\n    <div class=\"curve-chart\">\n      <canvas id=\"chart\" width=\"100\" height=\"100\" ref=\"chart\"></canvas>\n    </div>\n  </aside>\n</template>\n\n<script>\nimport Chart from \"chart.js/auto\";\nimport { watch } from \"vue\";\n\nexport default {\n  name: \"sidebar-correction\",\n\n  props: {\n    xMouse: Number,\n    yMouse: Number,\n    origImg: Object,\n    ih: Number,\n    iw: Number,\n    canvasRef: Object,\n  },\n  data() {\n    return {\n      chartInstance: null,\n      imgCorrected: false,\n      input1: 0,\n      output1: 0,\n      input2: 255,\n      output2: 255,\n      togglePreview: false,\n    };\n  },\n  mounted() {\n    this.chartRef = this.$refs.chart;\n  },\n  methods: {\n    closeSetting() {\n      this.$emit(\"closeSetting\");\n    },\n    normalizeHistogram(histogram) {\n      const max = Math.max(...histogram);\n      return histogram.map((value) => (value / max) * 255);\n    },\n    buildGraph() {\n      const img = new Image();\n      img.onload = () => {\n        const ctx = this.canvasRef?.getContext(\"2d\");\n        try {\n          const imageData = ctx.getImageData(\n            this.xMouse,\n            this.yMouse,\n            this.iw,\n            this.ih\n          );\n          const data = imageData.data;\n          const redHistogram = new Array(256).fill(0);\n          const greenHistogram = new Array(256).fill(0);\n          const blueHistogram = new Array(256).fill(0);\n\n          for (let i = 0; i < data.length; i += 4) {\n            const red = data[i];\n            const green = data[i + 1];\n            const blue = data[i + 2];\n            redHistogram[red]++;\n            greenHistogram[green]++;\n            blueHistogram[blue]++;\n          }\n\n          // Normalized\n          const normalizedRedHistogram = this.normalizeHistogram(redHistogram);\n          const normalizedGreenHistogram =\n            this.normalizeHistogram(greenHistogram);\n          const normalizedBlueHistogram =\n            this.normalizeHistogram(blueHistogram);\n          this.renderCurveChart(\n            normalizedRedHistogram,\n            normalizedGreenHistogram,\n            normalizedBlueHistogram\n          );\n        } catch (e) {\n          console.log(e);\n        }\n      };\n      img.src = this.origImg;\n    },\n    renderCurveChart(redHistogram, greenHistogram, blueHistogram) {\n      const ctx = this.chartRef?.getContext(\"2d\");\n\n      if (this.chartInstance) {\n        this.chartInstance.destroy();\n      }\n\n      this.chartInstance = new Chart(ctx, {\n        type: \"line\",\n        data: {\n          labels: Array.from({ length: 256 }, (_, i) => i),\n          datasets: [\n            {\n              label: \"R\",\n              data: redHistogram,\n              backgroundColor: \"rgba(255, 0, 0, 1)\",\n              borderWidth: 1,\n              fill: false,\n            },\n            {\n              label: \"G\",\n              data: greenHistogram,\n              backgroundColor: \"rgba(0, 255, 0, 1)\",\n              borderWidth: 1,\n              fill: false,\n            },\n            {\n              label: \"B\",\n              data: blueHistogram,\n              backgroundColor: \"rgba(0, 0, 255, 1)\",\n              borderWidth: 1,\n              fill: false,\n            },\n            {\n              label: \"Линия\",\n              data: [\n                { x: 0, y: this.output1 },\n                { x: this.input1, y: this.output1 },\n                { x: this.input2, y: this.output2 },\n                { x: 255, y: this.output2 },\n              ],\n              borderColor: \"rgba(255, 255, 255, 1)\",\n              borderWidth: 2,\n              fill: false,\n              tension: 0, // No curve, straight lines\n            },\n          ],\n        },\n        options: {\n          plugins: {\n            legend: {\n              labels: {\n                color: \"white\",\n              },\n            },\n          },\n          animation: false,\n          aspectRatio: 1, // Ensures the chart is square\n          scales: {\n            x: {\n              display: true,\n              min: 0,\n              max: 255,\n              type: \"linear\", // Ensure numerical scaling\n              ticks: {\n                color: \"white\",\n              },\n            },\n            y: {\n              display: true,\n              min: 0,\n              max: 255,\n              type: \"linear\", // Ensure numerical scaling\n              ticks: {\n                color: \"white\",\n              },\n            },\n          },\n        },\n      });\n    },\n\n    calculateCorrection() {\n      try {\n        const lut = [];\n        for (let i = 0; i < this.input1; i++) {\n          lut[i] = this.output1;\n        }\n        for (let i = this.input1; i < this.input2; i++) {\n          const slope =\n            (this.output2 - this.output1) / (this.input2 - this.input1); // Угловой коэф.\n          let correctedValue = this.output1 + slope * (i - this.input1);\n          correctedValue = Math.max(0, Math.min(255, correctedValue));\n          lut[i] = correctedValue;\n        }\n        for (let i = this.input2; i < 256; i++) {\n          lut[i] = this.output2;\n        }\n\n        const ctx = this.canvasRef?.getContext(\"2d\");\n        const imageData = ctx.getImageData(\n          this.xMouse,\n          this.yMouse,\n          this.iw,\n          this.ih\n        );\n        const data = imageData.data;\n        for (let i = 0; i < data.length; i += 4) {\n          data[i] = lut[data[i]]; // Коррекция красного канала\n          data[i + 1] = lut[data[i + 1]]; // Коррекция зеленого канала\n          data[i + 2] = lut[data[i + 2]]; // Коррекция синего канала\n        }\n\n        ctx.putImageData(imageData, this.xMouse, this.yMouse);\n        this.imgCorrected = true;\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    revertCorrection() {\n      this.buildGraph();\n      this.togglePreview = false;\n      this.$emit(\"renderImage\");\n    },\n    applyCorrection() {\n      this.closeSetting();\n      this.calculateCorrection();\n      this.buildGraph();\n    },\n    resetValues() {\n      this.input1 = 0;\n      this.output1 = 0;\n      this.input2 = 255;\n      this.output2 = 255;\n      this.revertCorrection();\n    },\n    updateX1(event) {\n      const num = +event.target.value;\n\n      if (!isNaN(num) && num >= 0 && num < this.input2) {\n        this.input1 = num;\n        this.buildGraph();\n      } else {\n        this.input1 += 1;\n        this.input1 -= 1;\n      }\n    },\n    updateY1(event) {\n      const num = +event.target.value;\n\n      if (!isNaN(num) && num >= 0 && num <= 255) {\n        this.output1 = num;\n        this.buildGraph();\n      } else {\n        this.output1 += 1;\n        this.output1 -= 1;\n      }\n    },\n    updateX2(event) {\n      const num = +event.target.value;\n\n      if (!isNaN(num) && num <= 255 && this.input1 <= num) {\n        this.input2 = num;\n        this.buildGraph();\n      } else {\n        this.input2 += 1;\n        this.input2 -= 1;\n      }\n    },\n    updateY2(event) {\n      const num = +event.target.value;\n\n      if (!isNaN(num) && num <= 255 && 0 <= num) {\n        this.output2 = num;\n        this.buildGraph();\n      } else {\n        this.output2 += 1;\n        this.output2 -= 1;\n      }\n    },\n  },\n  watch: {\n    newImg() {\n      this.buildGraph();\n    },\n    togglePreview(newVal) {\n      if (newVal) {\n        this.calculateCorrection();\n      } else {\n        this.revertCorrection();\n      }\n    },\n  },\n};\n\n</script>\n\n<style scoped>\n.sidebar {\n  min-width: 320px;\n  background-color: #535353;\n  padding: 10px;\n  height: calc(100vh - 25px);\n  border-bottom: 2px solid #383838;\n}\n.panel-header {\n  display: flex;\n  justify-content: end;\n}\n\n.close-button {\n  cursor: pointer;\n  color: #fff;\n  background: transparent;\n  width: 24px;\n  height: 24px;\n}\n.input-fields {\n  margin-top: 20px;\n}\n\n.input-fields-wrapper {\n  color: #fff;\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 10px;\n  border-radius: 5px;\n}\n.input-fields-i {\n  display: flex;\n  max-width: 50px;\n}\n\n.corrections-preview {\n  display: flex;\n  justify-content: center;\n  margin: 10px;\n}\n\n.preview-active {\n  opacity: 0.6;\n}\n.buttons {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-top: 10px;\n  gap: 10px;\n}\n\n.apply-button,\n.reset-button {\n  background-color: transparent;\n  color: white;\n  border: 1px solid white;\n  border-radius: 5px;\n  padding: 5px 5px;\n  cursor: pointer;\n}\n\n.apply-button:hover,\n.reset-button:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.curve-chart {\n  font-size: small;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10px;\n}\n\ninput {\n  background-color: transparent;\n  color: white;\n  padding-left: 5px;\n  width: 50px;\n}\n\n.prewiew_label {\n  color: white\n}\n\n.hrhr {\n  width: 100%;\n  height: 2px;\n  background-color: #fff;\n  margin-bottom: 15px;\n}\n\n</style>\n","import { render } from \"./CorrectionsModal.vue?vue&type=template&id=76cb4736&scoped=true\"\nimport script from \"./CorrectionsModal.vue?vue&type=script&lang=js\"\nexport * from \"./CorrectionsModal.vue?vue&type=script&lang=js\"\n\nimport \"./CorrectionsModal.vue?vue&type=style&index=0&id=76cb4736&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-76cb4736\"]])\n\nexport default __exports__","<template>\n  <aside class=\"sidebar\">\n    <div class=\"panel-header\">\n      <button class=\"close-button\" @click=\"closeSetting\">\n        <img src=\"@/assets/icons/crest.png\" />\n      </button>\n    </div>\n    <div class=\"input-fields\">\n      <select\n        @change=\"applyPreset($event.target.value)\"\n        class=\"filtration-preset\"\n      >\n        <option value=\"bugged\">Забаганный фильтр</option>\n        <option value=\"identity\">Тождественное отображение</option>\n        <option value=\"sharpen\">Повышение резкости</option>\n        <option value=\"gaussian\">Фильтр Гаусса (3 на 3)</option>\n        <option value=\"blur\">Прямоугольное размытие</option>\n      </select>\n      <div class=\"input-fields-wrapper\">\n        <div class=\"filtration-inputs\">\n          <div class=\"point-inputs\">\n            <div\n              v-for=\"(row, rowIndex) in kernel\"\n              class=\"point-inputs-column\"\n              :key=\"rowIndex\"\n            >\n              <div\n                v-for=\"(value, colIndex) in row\"\n                :key=\"colIndex\"\n                class=\"point-with-prefix\"\n              >\n                <input\n                  class=\"point_input\"\n                  :value=\"kernel[rowIndex][colIndex]\"\n                  @change=\"(e) => updateKernel(e, rowIndex, colIndex)\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"buttons\">\n      <label class=\"prewiew_label\">\n        <input type=\"checkbox\" v-model=\"togglePreview\" />\n        Превью\n      </label>\n      <button class=\"apply-button\" @click=\"applyFiltration\">Применить</button>\n      <button class=\"reset-button\" @click=\"resetValues\">Сброс</button>\n    </div>\n  </aside>\n</template>\n\n<script>\nimport { watch } from \"vue\";\n\nexport default {\n  name: \"sidebar-filtration\",\n\n  props: {\n    xMouse: Number,\n    yMouse: Number,\n    origImg: Object,\n    ih: Number,\n    iw: Number,\n    canvasRef: Object,\n  },\n  data() {\n    return {\n      togglePreview: false,\n      kernel: [\n          [1, 0, -1],\n          [1, 0, -1],\n          [1, 0, -1],\n      ],\n    };\n  },\n  methods: {\n    closeSetting() {\n      this.$emit(\"closeSetting\");\n    },\n    applyFilter(imageData, kernel) {\n      // Check for invalid inputs\n      if (!(imageData instanceof ImageData)) {\n        throw new Error(\"Invalid input: imageData must be an ImageData object\");\n      }\n      if (!Array.isArray(kernel) || kernel.length !== 3 || kernel[0].length !== 3) {\n        throw new Error(\"Invalid input: kernel must be a 3x3 array\");\n      }\n\n      // Get the image dimensions and data\n      const width = imageData.width;\n      const height = imageData.height;\n      const data = imageData.data;\n\n      // Create a new ImageData object to store the filtered image\n      const filteredData = new Uint8ClampedArray(data.length);\n      const filteredImageData = new ImageData(filteredData, width, height);\n\n      // Apply the convolution filter\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          // Calculate the convolution for each pixel\n          let r = 0, g = 0, b = 0;\n          for (let ky = -1; ky <= 1; ky++) {\n            for (let kx = -1; kx <= 1; kx++) {\n              const posX = x + kx;\n              const posY = y + ky;\n              // Wrap image edges\n              const wrappedX = (posX + width) % width;\n              const wrappedY = (posY + height) % height;\n              const pixelIndex = (wrappedY * width * 4) + (wrappedX * 4);\n              r += data[pixelIndex] * kernel[ky + 1][kx + 1];\n              g += data[pixelIndex + 1] * kernel[ky + 1][kx + 1];\n              b += data[pixelIndex + 2] * kernel[ky + 1][kx + 1];\n            }\n          }\n          // Apply the convolution result to the filtered image\n          filteredData[(y * width * 4) + (x * 4)] = r;\n          filteredData[(y * width * 4) + (x * 4) + 1] = g;\n          filteredData[(y * width * 4) + (x * 4) + 2] = b;\n          filteredData[(y * width * 4) + (x * 4) + 3] = data[(y * width * 4) + (x * 4) + 3]; // Copy alpha channel\n        }\n      }\n\n      return filteredImageData;\n    },\n    applyPreset(preset) {\n      const kernels = {\n        identity: [\n          [0, 0, 0],\n          [0, 1, 0],\n          [0, 0, 0],\n        ],\n        sharpen: [\n          [0, -1, 0],\n          [-1, 5, -1],\n          [0, -1, 0],\n        ],\n        gaussian: [\n          [1, 2, 1],\n          [2, 4, 2],\n          [1, 2, 1],\n        ],\n        blur: [\n          [1, 1, 1],\n          [1, 1, 1],\n          [1, 1, 1],\n        ],\n        bugged: [\n          [1, 0, -1],\n          [1, 0, -1],\n          [1, 0, -1],\n        ],\n      };\n      this.kernel = kernels[preset] || kernels.identity;\n    },\n    updateKernel(event, rowIndex, colIndex) {\n      const num =+ event.target.value;\n      if (!isNaN(num)) {\n        this.kernel[rowIndex][colIndex] = num;\n      }\n    },\n    normalizeKernel(kernel) {\n      let sum = 0;\n      for (let i = 0; i < kernel.length; i++) {\n        for (let j = 0; j < kernel[i].length; j++) {\n          sum += kernel[i][j];\n        }\n      }\n\n      if (sum === 0) {\n        return kernel;  \n      }\n\n      for (let i = 0; i < kernel.length; i++) {\n        for (let j = 0; j < kernel[i].length; j++) {\n          kernel[i][j] /= sum;\n        }\n      }\n\n      return kernel;\n    },\n    calculateFiltration() {\n      const ctx = this.canvasRef?.getContext(\"2d\");\n      if (!ctx) return;\n\n      const imageData = ctx.getImageData(\n        this.xMouse,\n        this.yMouse,\n        this.iw,\n        this.ih\n      );\n\n      const normalizedKernel = this.normalizeKernel(this.kernel)\n\n      const filteredImageData = this.applyFilter(imageData, normalizedKernel)\n\n      ctx.putImageData(filteredImageData, this.xMouse, this.yMouse);\n\n    },\n    // Функция для применения фильтрации к изображению на основе заданного ядра\n    // calculateFiltration() {\n    //   const ctx = this.canvasRef?.getContext(\"2d\");\n    //   if (!ctx) return;\n\n    //   // Получение данных изображения из канваса\n    //   const imageData = ctx.getImageData(\n    //     this.xMouse,\n    //     this.yMouse,\n    //     this.iw,\n    //     this.ih\n    //   );\n    //   // Создание нового массива для хранения отфильтрованных данных изображения\n    //   const newData = new Uint8ClampedArray(imageData.data.length);\n    //   // Получение дополненных данных изображения для обработки краевых пикселей\n    //   const paddedData = this.padImageData(\n    //     imageData.data,\n    //     imageData.width,\n    //     imageData.height\n    //   );\n\n    //   // Вычисление суммы всех элементов ядра (для нормализации)\n    //   const kernelSum = this.kernel.flat().reduce((a, b) => a + b, 0) || 0.001;\n    //   console.log(\"Kernel: \" + this.kernel)\n    //   console.log(\"Kernel Sum: \" + kernelSum)\n\n    //   // Проход по каждому пикселю изображения\n    //   for (let y = 0; y < imageData.height; y++) {\n    //     for (let x = 0; x < imageData.width; x++) {\n    //       let sumR = 0,\n    //         sumG = 0,\n    //         sumB = 0,\n    //         sumA = 0;\n    //       // Применение фильтра (свертка с ядром) к пикселям в окрестности\n    //       for (let ky = 0; ky < 3; ky++) {\n    //         for (let kx = 0; kx < 3; kx++) {\n    //           const inputIndex = ((y + ky) * (imageData.width + 2) + (x + kx)) * 4;\n    //           const weight = this.kernel[ky][kx];\n    //           sumR += paddedData[inputIndex] * weight;\n    //           sumG += paddedData[inputIndex + 1] * weight;\n    //           sumB += paddedData[inputIndex + 2] * weight;\n    //           // sumA += paddedData[inputIndex + 3] * weight;\n    //           sumA = 255;\n    //         }\n    //       }\n    //       const outputIndex = (y * imageData.width + x) * 4;\n    //       newData[outputIndex] = sumR / kernelSum;\n    //       newData[outputIndex + 1] = sumG / kernelSum;\n    //       newData[outputIndex + 2] = sumB / kernelSum;\n    //       newData[outputIndex + 3] = sumA / kernelSum;\n    //     }\n    //   }\n\n    //   console.log(newData);\n\n    //   // Обновление данных изображения в канвасе\n    //   imageData.data.set(newData);\n    //   ctx.putImageData(imageData, this.xMouse, this.yMouse);\n    // },\n    // Функция для дополнения данных изображения, чтобы избежать проблем с краевыми пикселями при свертке\n    padImageData(data, width, height) {\n      const paddedWidth = width + 2;\n      const paddedHeight = height + 2;\n      const paddedData = new Uint8ClampedArray(paddedWidth * paddedHeight * 4);\n\n      // Копирование исходных данных изображения в центр дополненного массива\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          const inputIndex = (y * width + x) * 4;\n          const outputIndex = ((y + 1) * paddedWidth + x + 1) * 4;\n          paddedData.set(\n            data.subarray(inputIndex, inputIndex + 4),\n            outputIndex\n          );\n        }\n      }\n\n      // Заполнение краев дополненного массива, копируя соседние пиксели\n      for (let y = 0; y < paddedHeight; y++) {\n        for (let x = 0; x < paddedWidth; x++) {\n          const outputIndex = (y * paddedWidth + x) * 4;\n          if (\n            x === 0 ||\n            x === paddedWidth - 1 ||\n            y === 0 ||\n            y === paddedHeight - 1\n          ) {\n            const nearestX = Math.max(1, Math.min(x, paddedWidth - 2));\n            const nearestY = Math.max(1, Math.min(y, paddedHeight - 2));\n            const nearestIndex = (nearestY * paddedWidth + nearestX) * 4;\n            paddedData.set(\n              paddedData.subarray(nearestIndex, nearestIndex + 4),\n              outputIndex\n            );\n          }\n        }\n      }\n      return paddedData;\n    },\n    resetValues() {\n      this.applyPreset(\"identity\");\n      this.revertFiltration();\n    },\n    revertFiltration() {\n      this.togglePreview = false;\n      this.$emit(\"renderImage\");\n    },\n    applyFiltration() {\n      this.closeSetting();\n      this.calculateFiltration();\n    },\n  },\n  watch: {\n    togglePreview(newVal) {\n      if (newVal) {\n        this.calculateFiltration();\n      } else {\n        this.revertFiltration();\n      }\n    },\n    kernel: {\n      handler() {\n        if (this.togglePreview) {\n          this.calculateFiltration();\n        }\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n.sidebar {\n  min-width: 320px;\n  background-color: #535353;\n  padding: 10px;\n  height: calc(100vh - 25px);\n  border-bottom: 2px solid #383838;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: end;\n}\n\n.close-button {\n  cursor: pointer;\n  color: #fff;\n  background: transparent;\n  width: 24px;\n  height: 24px;\n}\n\n.input-fields {\n  margin-top: 5px;\n}\n\n.input-fields-wrapper {\n  color: #fff;\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 10px;\n  border-radius: 5px;\n}\n.input-fields-i {\n  display: flex;\n  max-width: 50px;\n}\n.filtration-content {\n  display: flex;\n  gap: 10px;\n}\n.filtration-inputs {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.point-inputs {\n  display: flex;\n  gap: 10px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n\n}\n.point-inputs-column {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.point-with-prefix[type=\"input\"] {\n  position: relative;\n  height: 20px;\n  width: 28px;\n  border-radius: 5px;\n  padding-left: 5px;\n}\n.corrections-preview {\n  display: flex;\n  justify-content: center;\n  margin: 10px;\n}\n\n.preview-active {\n  opacity: 0.6;\n}\n.buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  justify-content: space-between;\n  margin-top: 10px;\n}\n\n.apply-button,\n.reset-button {\n  background-color: transparent;\n  color: white;\n  border: 1px solid white;\n  border-radius: 5px;\n  padding: 5px 5px;\n  cursor: pointer;\n}\n\n.apply-button:hover,\n.reset-button:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.curve-chart {\n  font-size: small;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10px;\n}\n\ninput {\n  background-color: transparent;\n  color: white;\n  padding-left: 5px;\n  width: 50px;\n}\n\n.custom-checkbox {\n  position: relative;\n  display: inline-block;\n}\n.checkbox-image {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n\n.prewiew_label {\n  color: #fff;\n}\n\n.filtration-preset {\n  margin-bottom: 10px;\n  padding: 5px;\n  width: 100%;\n}\n\n.point_input {\n  text-align: center;\n}\n\n</style>\n","import { render } from \"./FiltrationModal.vue?vue&type=template&id=12fdf0f4&scoped=true\"\nimport script from \"./FiltrationModal.vue?vue&type=script&lang=js\"\nexport * from \"./FiltrationModal.vue?vue&type=script&lang=js\"\n\nimport \"./FiltrationModal.vue?vue&type=style&index=0&id=12fdf0f4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12fdf0f4\"]])\n\nexport default __exports__","export function nearestNeighborInterpolation(\n  img: ImageData,\n  newWidth: number,\n  newHeight: number\n) {\n  const originalWidth = img.width; // Получаем оригинальную ширину изображения\n  const originalHeight = img.height; // Получаем оригинальную высоту изображения\n  const scaleX = originalWidth / newWidth; // Вычисляем масштаб по ширине\n  const scaleY = originalHeight / newHeight; // Вычисляем масштаб по высоте\n  const newData = new Uint8ClampedArray(newWidth * newHeight * 4); // Создаем новый массив для новых данных изображения\n\n  for (let y = 0; y < newHeight; y++) {\n    // Итерируемся по новой высоте изображения\n    for (let x = 0; x < newWidth; x++) {\n      // Итерируемся по новой ширине изображения\n      const px = Math.floor(x * scaleX); // Вычисляем координату x исходного пикселя\n      const py = Math.floor(y * scaleY); // Вычисляем координату y исходного пикселя\n      const index = (y * newWidth + x) * 4; // Вычисляем индекс текущего пикселя в новых данных\n      const originalIndex = (py * originalWidth + px) * 4; // Вычисляем индекс исходного пикселя в исходных данных\n\n      // Копируем цветовую информацию из исходного пикселя в новый пиксель\n      newData[index] = img.data[originalIndex]; // Копируем значение красного канала\n      newData[index + 1] = img.data[originalIndex + 1]; // Копируем значение зеленого канала\n      newData[index + 2] = img.data[originalIndex + 2]; // Копируем значение синего канала\n      newData[index + 3] = img.data[originalIndex + 3]; // Копируем значение альфа канала\n    }\n  }\n  return new ImageData(newData, newWidth, newHeight);\n}\n","import { render } from \"./ImageCanvas.vue?vue&type=template&id=4f5ba7a0&scoped=true\"\nimport script from \"./ImageCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./ImageCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./ImageCanvas.vue?vue&type=style&index=0&id=4f5ba7a0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4f5ba7a0\"]])\n\nexport default __exports__","<template>\n  <aside class=\"sidebar\">\n    <div @click=\"openModalUpload\">\n      <img\n        src=\"../assets/icons/folder.png\"\n        alt=\"Upload\"\n        class=\"file-upload-icon\"\n      />\n    </div>\n    <div\n      v-for=\"tool in tools\"\n      :key=\"tool.id\"\n      @click=\"toggleToolActivation(tool)\"\n      :class=\"{ active: activeTool === tool.name }\"\n    >\n      <img\n        class=\"tool__icon\"\n        :src=\"tool.icon\"\n        :alt=\"tool.name\"\n        @mouseover=\"showTooltip(tool.name)\"\n        @mouseleave=\"hideTooltip\"\n      />\n      <span\n        class=\"tooltip\"\n        v-if=\"showTooltipFlag && currentTool === tool.name\"\n        >{{ tool.name }}</span\n      >\n    </div>\n    <div @click=\"saveImage\">\n      <img\n        src=\"../assets/icons/save.png\"\n        alt=\"Save images\"\n        title=\"Скачать изображение\"\n        class=\"file-upload-icon\"\n      />\n    </div>\n  </aside>\n  <div v-if=\"isModalVisible\" @click=\"closeModal\" class=\"modal\">\n    <div class=\"modal-content\" @click.stop>\n      <div class=\"upload__cont\">\n        <img\n          src=\"../assets/icons/search.png\"\n          alt=\"Upload\"\n          class=\"file-upload-button\"\n          @click=\"openFileInput\"\n        />\n        <div class=\"or\"> или </div>\n        <input\n          ref=\"fileInput\"\n          id=\"file-upload\"\n          type=\"file\"\n          accept=\"image/*\"\n          @change=\"handleFileUpload\"\n          style=\"display: none\"\n        />\n        <div class=\"url-upload-container\">\n          <input\n            id=\"image-url\"\n            type=\"text\"\n            v-model=\"imageUrl\"\n            placeholder=\"Введите URL изображения\"\n            class=\"upload-button url-input\"\n          />\n          <button @click=\"loadImageFromUrl\" class=\"upload-button\">Загрузить</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"sidebar-menu\",\n  emits: [\n    \"imageSelected\",\n    \"update:activeTool\",\n    \"image-selected\",\n    \"openResizeModal\",\n  ],\n  props: {\n    activeTool: String,\n  },\n  data() {\n    return {\n      tools: [\n        {\n          id: 1,\n          name: \"Пипетка\",\n          icon: require(\"../assets/icons/pipette.png\"),\n        },\n        {\n          id: 2,\n          name: \"Изменение размера\",\n          icon: require(\"../assets/icons/enlarge.png\"),\n        },\n        {\n          id: 3,\n          name: \"Рука\",\n          icon: require(\"../assets/icons/hand.png\"),\n        },\n        {\n          id: 4,\n          name: \"Кривые\",\n          icon: require(\"../assets/icons/curve.png\"),\n        },\n        {\n          id: 5,\n          name: \"Фильтрация\",\n          icon: require(\"../assets/icons/filtering.png\"),\n        },\n      ],\n      showTooltipFlag: false,\n      currentTool: \"\",\n      isModalVisible: false,\n      imageUrl: \"\",\n    };\n  },\n  methods: {\n    toggleToolActivation(tool) {\n      this.$emit(\n        \"update:activeTool\",\n        this.activeTool === tool.name ? \"\" : tool.name\n      );\n      if (tool.name === \"Изменение размера\") {\n        this.$emit(\"openResizeModal\");\n      }\n    },\n    showTooltip(toolName) {\n      this.showTooltipFlag = true;\n      this.currentTool = toolName;\n    },\n    hideTooltip() {\n      this.showTooltipFlag = false;\n      this.currentTool = \"\";\n    },\n    openModalUpload() {\n      this.isModalVisible = true;\n    },\n    closeModal() {\n      this.isModalVisible = false;\n    },\n    openFileInput() {\n      this.$refs.fileInput.click();\n    },\n    handleFileUpload(event) {\n      const target = event.target;\n      const selectedFile = target.files?.[0];\n\n      if (selectedFile) {\n        const imageUrl = URL.createObjectURL(selectedFile);\n        this.selectedImage = imageUrl;\n        this.$emit(\"image-selected\", imageUrl);\n\n        target.value = \"\";\n      }\n      this.closeModal();\n    },\n    loadImageFromUrl() {\n      this.$emit(\"image-selected\", this.imageUrl);\n      this.selectedImage = this.imageUrl;\n      this.imageUrl = \"\";\n      this.closeModal();\n    },\n    saveImage() {\n      this.$emit(\"save-image\");\n    },\n  },\n  beforeUnmount() {\n    if (this.selectedImage) {\n      URL.revokeObjectURL(this.selectedImage);\n    }\n  },\n};\n</script>\n\n<style scoped>\n.sidebar {\n  position: absolute;\n  min-width: 55px;\n  background-color: #535353;\n  padding: 10px;\n  /* height: 100vh; */\n  top: 40%;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n}\n\n.sidebar div {\n  cursor: pointer;\n  padding: 5px;\n  margin-bottom: 5px;\n  border-radius: 3px;\n  border: solid 1px rgb(220, 182, 255);\n  background-color: #715d78;\n  position: relative;\n  width: 35px;\n  height: 35px;\n}\n\n.tooltip {\n  position: absolute;\n  background-color: #f4e8ff;\n  color: rgb(149, 35, 255);\n  border: solid 1px;\n  border-radius: 3px;\n  padding: 2px;\n  left: 100%;\n  transform: translateX(-10%);\n  white-space: nowrap;\n  display: none;\n  z-index: 999;\n}\n\n.sidebar div:hover .tooltip {\n  display: block;\n}\n\n.sidebar div.active {\n  background-color: #383838;\n}\n.modal {\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n  position: fixed;\n  display: flex;\n}\n\n.modal-content {\n  background-color: #63506d;\n  width: 450px;\n  height: 100px;\n  border-radius: 10px;\n  margin: auto;\n  padding: 20px;\n}\n.tool__icon {\n  width: 23px;\n  height: 21px;\n}\n.upload__cont {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.url-upload-container {\n  display: flex;\n  gap: 10px;\n}\n\n.url-upload-container input[type=\"text\"] {\n  flex: 1;\n}\n\n.url-upload-container button {\n  cursor: pointer;\n}\n\n.or {\n  color: white;\n}\n\n.file-upload-button {\n  cursor: pointer;\n  border: solid 1px rgb(220, 182, 255);\n  background-color: #715d78;\n  border-radius: 3px;\n  width: 36px;\n  height: 36px;\n  padding: 5px;\n  margin: 10px;\n}\n.file-upload-icon {\n  height: 20.84px;\n}\ninput[type=\"file\"] {\n  display: none;\n}\n\n.upload-button {\n  padding: 5px;\n  border: solid 1px rgb(220, 182, 255);\n  background-color: #ffffff;\n  border-radius: 3px;\n}\n\n.url-input {\n  width: 200px;\n}\n</style>\n","import { render } from \"./Sidebar.vue?vue&type=template&id=90137038&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=90137038&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-90137038\"]])\n\nexport default __exports__","import { render } from \"./home.vue?vue&type=template&id=7c7d06a6&scoped=true\"\nimport script from \"./home.vue?vue&type=script&lang=js\"\nexport * from \"./home.vue?vue&type=script&lang=js\"\n\nimport \"./home.vue?vue&type=style&index=0&id=7c7d06a6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c7d06a6\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\nimport HomePage from \"../pages/home.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: HomePage,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  getters: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./pages/routes\";\nimport store from \"./store\";\n\ncreateApp(App).use(store).use(router).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/photoeditor/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkphoto_editor\"] = self[\"webpackChunkphoto_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8915); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","name","__exports__","render","_createElementVNode","_component_Sidebar","activeTool","$data","_cache","$event","onImageSelected","$options","handleImageSelected","onOpenResizeModal","handleOpenResizeModal","onSaveImage","saveImage","_component_ImageCanvas","selectedImage","onColorSelected","handleColorSelected","isResizeModalVisible","onCloseResizeModal","handleCloseResizeModal","ref","key","for","value","title","_hoisted_6","_hoisted_10","_hoisted_11","id","onMousedown","args","handleMouseDown","onMousemove","handleMouseMove","onMouseup","handleMouseUp","onMouseleave","handleMouseLeave","colorInfoPanelVisible","_createBlock","_component_ModalColor","selectedColor","selectedColors","xMouse","selectedPixel","x","yMouse","y","onCloseSetting","_createCommentVNode","correctionPanelVisible","_component_CorrectionsModal","canvasRef","offsetX","offsetY","iw","displayImageWidth","ih","displayImageHeight","origImg","$props","_ctx","onRenderImage","renderImage","filtrPanelVisible","_component_FiltrationModal","_component_ImageFooter","imageWidth","imageHeight","selectedScale","onScaleChange","handleScaleChange","isModalVisible","_hoisted_2","onClick","_withModifiers","_hoisted_3","_hoisted_4","_hoisted_5","interpolationAlgorithm","_hoisted_7","_hoisted_8","_hoisted_9","resizeType","onChange","updateModal","_hoisted_12","_hoisted_13","_hoisted_14","type","maintainAspectRatio","_createTextVNode","_hoisted_15","_hoisted_16","newWidth","min","updateNewWidth","_hoisted_17","_hoisted_18","_hoisted_19","newHeight","updateNewHeight","_hoisted_20","_hoisted_21","_toDisplayString","toFixed","_hoisted_22","countPixels","_hoisted_23","closeResizeModal","handleModalConfirm","r","g","b","style","_normalizeStyle","localScale","_Fragment","_renderList","scales","scale","index","props","Number","Object","data","this","methods","$emit","src","_imports_0","closeSetting","pickedButton","background","color1","color1X","color1Y","color2","color2X","color2Y","onMouseenter","showTooltipFlag","color1RGB","split","trim","color2RGB","_hoisted_24","_hoisted_25","color1XYZ","_hoisted_26","color2XYZ","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","color1Lab","_hoisted_31","color2Lab","contrast","color","String","updateColors","rgb","parseColor","xyz","rgbToXyz","lab","xyzToLab","prettyColor","calculateContrastRatio","tone1","tone2","tone3","isRGB","sRGBToLinear","c","Math","pow","getLuminance","luminance1","luminance2","maxLuminance","max","minLuminance","contrastRatio","input","substr","collen","length","fact","round","parseInt","map","z","xn","yn","zn","fx","fy","fz","epsilon","kappa","f","t","L","a","watch","newVal","width","height","input1","updateX1","output1","updateY1","input2","updateX2","output2","updateY2","togglePreview","applyCorrection","resetValues","chartInstance","imgCorrected","mounted","chartRef","$refs","chart","normalizeHistogram","histogram","buildGraph","img","Image","onload","ctx","getContext","imageData","getImageData","redHistogram","Array","fill","greenHistogram","blueHistogram","i","red","green","blue","normalizedRedHistogram","normalizedGreenHistogram","normalizedBlueHistogram","renderCurveChart","e","console","log","destroy","Chart","labels","from","_","datasets","label","backgroundColor","borderWidth","borderColor","tension","options","plugins","legend","animation","aspectRatio","display","ticks","calculateCorrection","lut","slope","correctedValue","putImageData","revertCorrection","event","num","target","isNaN","newImg","_createStaticVNode","applyPreset","kernel","row","rowIndex","colIndex","updateKernel","applyFiltration","applyFilter","ImageData","Error","isArray","filteredData","Uint8ClampedArray","filteredImageData","ky","kx","posX","posY","wrappedX","wrappedY","pixelIndex","preset","kernels","identity","sharpen","gaussian","blur","bugged","normalizeKernel","sum","j","calculateFiltration","normalizedKernel","padImageData","paddedWidth","paddedHeight","paddedData","inputIndex","outputIndex","set","subarray","nearestX","nearestY","nearestIndex","revertFiltration","handler","deep","nearestNeighborInterpolation","originalWidth","originalHeight","scaleX","scaleY","newData","px","floor","py","originalIndex","components","ImageFooter","ModalColor","CorrectionsModal","FiltrationModal","emits","displayImageData","displayImage","widthPercent","heightPercent","canvasOffsetX","canvasOffsetY","dragging","Boolean","canvas","addEventListener","handleCanvasClick","window","handleKeyDown","handleKeyUp","beforeUnmount","removeEventListener","newValue","crossOrigin","extractImageData","calcDisplayImageData","document","createElement","drawImage","lastX","clientX","lastY","clientY","preventDefault","dx","dy","cursor","shiftModifier","shiftKey","inittialScaleFactor","calculateScaleFactor","scaledWidth","scaledHeight","scaleImageData","scrollX","parentNode","scrollLeft","scrollY","scrollTop","canvasWidth","clientWidth","canvasHeight","clientHeight","margin","scaledImageData","scaleWidth","scaleHeight","srcX","srcY","srcIndex","destIndex","minMargin","availableWidth","availableHeight","widthScaleFactor","heightScaleFactor","canvasRect","getBoundingClientRect","left","top","updateSelectedColor","imageX","imageY","pixelData","percentage","link","href","toDataURL","download","body","appendChild","click","removeChild","alt","_imports_1","openModalUpload","tools","tool","toggleToolActivation","_normalizeClass","active","icon","onMouseover","showTooltip","hideTooltip","currentTool","closeModal","_imports_2","openFileInput","accept","handleFileUpload","imageUrl","placeholder","loadImageFromUrl","require","toolName","fileInput","selectedFile","files","URL","createObjectURL","revokeObjectURL","ImageCanvas","Sidebar","colorData","imageCanvas","routes","path","component","HomePage","router","createRouter","history","createWebHashHistory","createStore","state","getters","mutations","actions","modules","createApp","App","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","globalThis","Function","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}